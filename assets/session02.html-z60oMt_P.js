import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o,c as a,b as e,e as t,d as s,a as n}from"./app-D7XL0ZiN.js";const c="/assets/THA_MicroServices_v112-CD6GuRn5.png",p="/assets/THA_MicroServices_v113-DJvXnEDs.png",u="/assets/THA_MicroServices_v114-D3L1yzHG.png",d="/assets/THA_MicroServices_v115-B3AZk_Zj.png",h="/assets/THA_MicroServices_v116-C55iO8dk.png",m="/assets/THA_MicroServices_v117-CDuGs1Cw.png",_="/assets/THA_MicroServices_v118-LO4U6L7S.png",g="/assets/THA_MicroServices_v119-fBV5vjIY.png",f="/assets/THA_MicroServices_v1110-DmSzFmS8.png",v={},b=n('<h1 id="les-microservices" tabindex="-1"><a class="header-anchor" href="#les-microservices"><span>Les microservices</span></a></h1><p>Le cours est disponible <a href="/pdf/THA_MicroServices_v1.1.pdf">ICI</a></p><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"><span>Introduction</span></a></h2><h3 id="qu-est-ce-qu-une-architecture-monolithique" tabindex="-1"><a class="header-anchor" href="#qu-est-ce-qu-une-architecture-monolithique"><span><span style="color:#5497B4;">Qu’est-ce</span> <span style="color:#3D3D3D;"> qu’une architecture monolithique ?</span></span></a></h3><p>Exemple d’architecture (Web)</p><figure><img src="'+c+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Exemple d’architecture (serveur d’applis)</p><figure><img src="'+p+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="avantages" tabindex="-1"><a class="header-anchor" href="#avantages"><span>Avantages</span></a></h4><ul><li>Technologies homogènes <ul><li>Types d’objets / composants adaptés aux besoins architecturaux</li><li>Stack « mainstream » -&gt; facilement intégrable</li></ul></li><li>Framework : Puissance, généricité, services annexes…</li><li>Déploiement : Simple, outils intégrés dans la stack</li><li>Cohésion de l’équipe de développement</li></ul><h4 id="inconvenients" tabindex="-1"><a class="header-anchor" href="#inconvenients"><span>Inconvénients</span></a></h4><ul><li>Technologies homogènes <ul><li>Types d’objets / composants pas toujours adaptés aux besoins métier</li><li>Intégration de composants dans d’autres technos difficile</li><li>Choix technologiques à long terme</li></ul></li><li>Framework <ul><li>Peut devenir chargé quand la complexité de l’application augmente</li></ul></li><li>Déploiement <ul><li>Nécessite l’arrêt de toute l’application</li><li>Peut prendre du temps quand l’application grossit</li></ul></li><li>Couplage fort entre les équipes de développement</li><li>Scalabilité <ul><li>Verticale <ul><li>L’application a la responsabilité de s’« auto-scaler »</li><li>Limitée aux ressources du serveur</li></ul></li><li>Horizontale <ul><li>Nécessite de réinstancier l’OS et le framework</li><li>Gestion des ressources partagées à l’extérieur de l’application</li></ul></li></ul></li></ul><h3 id="qu-est-ce-qu-une-architecture-orientee-service-soa" tabindex="-1"><a class="header-anchor" href="#qu-est-ce-qu-une-architecture-orientee-service-soa"><span><span style="color:#5497B4;">Qu’est-ce</span> <span style="color:#3D3D3D;"> qu’une architecture orientée service (SOA) ?</span></span></a></h3><figure><img src="'+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li><p>Avantages</p><ul><li>Modularité, couplage faible <ul><li>Séparation des préoccupations (et des développements)</li><li>Possibilité de redéployer composant par composant</li></ul></li><li>Simplification du processus de développement <ul><li>Liberté des choix technologiques</li><li>Indépendance des équipes de dév</li></ul></li><li>Interfaces de communication réseau <ul><li>Pérennité des standards</li><li>Distribution possible</li></ul></li><li>Plus adaptées <ul><li>Aux environnements distribués</li><li>Aux échanges de services entre plusieurs applications</li></ul></li><li>« Scalability by design »</li></ul></li><li><p>Inconvénients</p><ul><li>Complexité <ul><li>Des mécanismes de communications</li><li>Des architectures applicatives</li></ul></li><li>Overhead <ul><li>Nécessite plus de ressources au final (VM, OS, plateforme d’exécution…)</li></ul></li><li>Nécessite des services de monitoring/coordination <ul><li>Testabilité plus délicate</li></ul></li></ul></li></ul><h3 id="qu-est-ce-qu-une-architecture-microservices" tabindex="-1"><a class="header-anchor" href="#qu-est-ce-qu-une-architecture-microservices"><span><span style="color:#5497B4;">Qu’est-ce</span> <span style="color:#3D3D3D;"> qu’une architecture </span> <span style="color:#3D3D3D;">microservices</span> <span style="color:#3D3D3D;"> ?</span></span></a></h3><ul><li>Une évolution des SOA</li><li>Une approche permettant de developer une application sous la forme de modules atomiques faiblement couplés</li><li>Un moyen de déployer et de maintenir les services indépendamment les uns des autres</li></ul><figure><img src="'+d+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="concepts" tabindex="-1"><a class="header-anchor" href="#concepts"><span>Concepts</span></a></h2><h3 id="caracteristiques-d-un-microservice" tabindex="-1"><a class="header-anchor" href="#caracteristiques-d-un-microservice"><span><span style="color:#5497B4;">Caractéristiques</span> <span style="color:#3D3D3D;"> d’un </span> <span style="color:#3D3D3D;">microservice</span> <span style="color:#3D3D3D;"> ?</span></span></a></h3><ul><li>Minimal mais complet / autonome : fournit une fonctionalité de l’application <strong>(forte cohésion)</strong></li><li>Composable :expose une API simple aux autres microservices de l’application <strong>(ex : REST)</strong></li><li>Élastique : (auto-)scalable</li><li>Résilient : ne bloque pas l’application en cas de panne <strong>(couplage faible)</strong></li></ul><h3 id="definition-d-une-application-en-microservice" tabindex="-1"><a class="header-anchor" href="#definition-d-une-application-en-microservice"><span><span style="color:#5497B4;">Définition</span> <span style="color:#3D3D3D;"> d’une application en </span> <span style="color:#3D3D3D;">microservice</span></span></a></h3><div class="hint-container info"><p class="hint-container-title">Définition</p><p>Un application en microservice est un assemblage de « petits » services indépendants</p></div><p>Chaque microservice réalise un <strong>processus métier</strong> ou une <strong>préoccupation transverse</strong> Ex : Vente, CRM, Comptabilité, Front-end, GUI, etc...</p><p>Techniquement, les services sont</p><ul><li>Programmés dans des langages hétérogènes</li><li>Exécutés dans des processus séparés</li><li>Liés à leurs propres supports de persistance</li><li>Développés et déployés dans des projets distincts</li></ul><figure><img src="'+h+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="bounded-context" tabindex="-1"><a class="header-anchor" href="#bounded-context"><span><span style="color:#5497B4;"> Bounded</span> <span style="color:#3D3D3D;"> context</span></span></a></h3><ul><li>Pattern issu du Domain-Driven Design (DDD)</li><li>Découpage d’un projet en groupements fonctionnels</li><li>Isolation de ces groupements entre eux</li><li>Chaque groupement est un mini-projet indépendant <ul><li>Développement</li><li>Déploiement</li><li>Services de support et de pilotage</li></ul></li></ul><p>Un microservice est un <strong>running bounded context</strong></p><h3 id="smart-enpoint-dumb-pipe" tabindex="-1"><a class="header-anchor" href="#smart-enpoint-dumb-pipe"><span><span style="color:#5497B4;"> Smart enpoint,</span> <span style="color:#3D3D3D;"> dumb pipe</span></span></a></h3><div class="hint-container info"><p class="hint-container-title">Important</p><p>La gestion centralisée de l&#39;application est réduite au minimum</p></div><ul><li>Chaque service embarque un morceau de l’ <strong>intelligence</strong> de l’application</li><li>Les services peuvent utiliser des mécanismes de stockage différents</li><li>La logique de communication est répartie dans les services et non dans un médium de communication centralisé (ESB)</li><li>Communication par mécanismes « légers »</li></ul><h2 id="methodologie" tabindex="-1"><a class="header-anchor" href="#methodologie"><span>Méthodologie</span></a></h2><p><span style="color:#5497B4;"> Comment</span><span style="color:#3D3D3D;"> concevoir et déployer une application à base de microservices ?</span></p><div class="hint-container info"><p class="hint-container-title">Attendu</p><ul><li>Maintenable</li><li>Scalable</li></ul></div><div class="hint-container info"><p class="hint-container-title">Hypothèse</p><ul><li>Application complexe : framework, nombreux use cases…</li><li>Utilisation de patterns d’isolation : couches, adapter, façade…</li></ul></div>',37),y={href:"https://microservices.io/articles/applying.html",target:"_blank",rel:"noopener noreferrer"},k=n('<h3 id="decompostion-de-l-application" tabindex="-1"><a class="header-anchor" href="#decompostion-de-l-application"><span>Décompostion de l’application</span></a></h3><p><strong>Objectif :</strong> séparer en plusieurs conteneurs</p><ul><li>Architecture stable</li><li>Modules cohésifs et faiblement couplés</li><li>Cycles de vie des composants des modules similaires</li><li>Modules testables</li><li>Équipes resserrées ≤ 10 et autonomes</li></ul><p><strong>Problème : comment découper ?</strong></p><p>Il existe 2 possibilités</p><ol><li>Par <strong>business capability</strong> : processus producteurs de valeur =&gt; Liés à l’activité économique de l’entreprise (business architecture modeling)</li><li>Par sous-domaines d’activité : typologie des processus classique (cf. CM urbanisation) =&gt; Opérationnels, de support, de pilotage</li></ol><p>Les critères de choix peuvent être la granularité et/ou les aspects humains</p><h3 id="aspects-humains" tabindex="-1"><a class="header-anchor" href="#aspects-humains"><span>Aspects humains</span></a></h3>',8),q=e("span",{style:{color:"#585858"}},"Loi de Conway",-1),x={href:"https://fr.wikipedia.org/wiki/Loi_de_Conway",target:"_blank",rel:"noopener noreferrer"},D=n('<p>L’organisation entre les équipes doit refléter l’architecture du produit</p><ul><li>Des équipes plus petites : agilité, autonomie, efficacité</li><li>Chaque équipe est responsable d’un service : Choix technologiques, conception, déploiement, maintenance</li><li>Avantages pour le produit <ul><li>Cycles de développement courts</li><li>Déploiements indépendants</li><li>Testabilité</li><li>Isolation des / tolérance aux bugs</li></ul></li></ul><h3 id="gestion-des-donnees" tabindex="-1"><a class="header-anchor" href="#gestion-des-donnees"><span>Gestion des données</span></a></h3><p><strong>Problème : comment gérer les accès aux données une fois les services séparés dans des conteneurs différents ?</strong></p><p>Plusieurs solutions :</p>',5),S=e("p",null,"1 BD par service",-1),C=e("li",null,"Avantage : plus simple à réaliser (si pas besoin de synchro)",-1),A=e("li",null,"Inconvénients : performances, synchronisation",-1),P={href:"https://microservices.io/patterns/data/saga.html",target:"_blank",rel:"noopener noreferrer"},w={href:"https://microservices.io/patterns/data/cqrs.html",target:"_blank",rel:"noopener noreferrer"},T=e("li",null,[e("p",null,"1 BD partagée entre plusieurs services"),e("ul",null,[e("li",null,"Avantage : plus simple à réaliser (si accès concurrents)"),e("li",null,"Inconvénients : goulot d’étranglement")])],-1),L=n('<div class="hint-container info"><p class="hint-container-title">Remarque</p><p>Il existe aussi des solutions intermédiaires</p></div><h3 id="communication-entre-conteneurs" tabindex="-1"><a class="header-anchor" href="#communication-entre-conteneurs"><span>Communication entre conteneurs</span></a></h3><p><strong>Problème : conserver des mécanismes de communication « légers »</strong></p><p><strong>Solution :</strong> « Dumb pipe, smart endpoint »</p><ul><li>REST (HTTP) <ul><li>Adapté à l’ « éclatement » d’une application monolithique en micro-services</li><li>Correspond à l’utilisation de patterns GRASP (lesquels ?)</li><li>Scalable à l’aide de mécanismes du Web (duplication, cache/proxy, load-balancing)  Penser « ressource » dès la conception</li></ul></li><li>Bus de messages (JMS, AMQP…) <ul><li>Adapté à l’ « éclatement » d’une application orientée-services en micro-services</li><li>Le bus reste le plus simple possible (ne contient pas de métier)</li><li>À proscrire : mécanismes de routage, orchestration, chorégraphie de service, BPEL…  Penser « asynchrone » dès la conception</li></ul></li></ul><p><strong>Problème : permettre aux services d’être informés des changements d’états des autres services</strong><strong>Solution :</strong> pattern « Event sourcing »</p><ul><li>Persister dans une BD partagée les états des conteneurs</li><li>Déclencher un événement à chaque insertion</li><li>Permettre de s’abonner à ces événements</li></ul><div class="hint-container info"><p class="hint-container-title">Remarques</p><ul><li>Permet de re-jouer le déroulement de l’application</li><li>Attention à ne pas « re-centraliser l’intelligence » (ESB)</li><li>Potentiel <em>Single</em> _ _ <em>Point</em> _ _ _of _ <em>Failure</em></li></ul></div><h3 id="composition-de-l-interface-gui" tabindex="-1"><a class="header-anchor" href="#composition-de-l-interface-gui"><span>Composition de l’interface (GUI)</span></a></h3><p><strong>Problème : au final, réaliser une interface applicative qui tire partie de tous les services</strong></p><p>2 solutions :</p><ul><li>Composer les vues côté serveur Permet de générer différents types d’applications (Web, mobile, desktop, etc.)</li><li>Composer les vues côté client SPA, AJAX…</li></ul><div class="hint-container info"><p class="hint-container-title">Remarque</p><p>Dans les 2 cas, l’application est un mashup </p></div><h3 id="autres-problematiques" tabindex="-1"><a class="header-anchor" href="#autres-problematiques"><span>Autres problématiques</span></a></h3>',14),I={style:{color:"#585858"}},M={href:"https://microservices.io/patterns/deployment/multiple-services-per-host.html",target:"_blank",rel:"noopener noreferrer"},B={style:{color:"#585858"}},E={href:"https://microservices.io/patterns/deployment/multiple-services-per-host.html",target:"_blank",rel:"noopener noreferrer"},z={style:{color:"#585858"}},O={href:"https://microservices.io/patterns/deployment/multiple-services-per-host.html",target:"_blank",rel:"noopener noreferrer"},H={style:{color:"#585858"}},U={href:"https://microservices.io/patterns/deployment/multiple-services-per-host.html",target:"_blank",rel:"noopener noreferrer"},G={style:{color:"#585858"}},R={href:"https://microservices.io/patterns/deployment/multiple-services-per-host.html",target:"_blank",rel:"noopener noreferrer"},V={style:{color:"#585858"}},j={href:"https://microservices.io/patterns/deployment/multiple-services-per-host.html",target:"_blank",rel:"noopener noreferrer"},N={style:{color:"#585858"}},Q={href:"https://microservices.io/patterns/deployment/multiple-services-per-host.html",target:"_blank",rel:"noopener noreferrer"},Z={style:{color:"#585858"}},J={href:"https://microservices.io/patterns/deployment/multiple-services-per-host.html",target:"_blank",rel:"noopener noreferrer"},W={style:{color:"#585858"}},F={href:"https://microservices.io/patterns/deployment/multiple-services-per-host.html",target:"_blank",rel:"noopener noreferrer"},X={style:{color:"#585858"}},Y={href:"https://microservices.io/patterns/deployment/single-service-per-host.html",target:"_blank",rel:"noopener noreferrer"},K={style:{color:"#585858"}},$={href:"https://microservices.io/patterns/deployment/single-service-per-host.html",target:"_blank",rel:"noopener noreferrer"},ee={style:{color:"#585858"}},te={href:"https://microservices.io/patterns/deployment/single-service-per-host.html",target:"_blank",rel:"noopener noreferrer"},ie={style:{color:"#585858"}},se={href:"https://microservices.io/patterns/deployment/single-service-per-host.html",target:"_blank",rel:"noopener noreferrer"},ne={style:{color:"#585858"}},re={href:"https://microservices.io/patterns/deployment/single-service-per-host.html",target:"_blank",rel:"noopener noreferrer"},le={style:{color:"#585858"}},oe={href:"https://microservices.io/patterns/deployment/single-service-per-host.html",target:"_blank",rel:"noopener noreferrer"},ae={style:{color:"#585858"}},ce={href:"https://microservices.io/patterns/deployment/single-service-per-host.html",target:"_blank",rel:"noopener noreferrer"},pe={style:{color:"#585858"}},ue={href:"https://microservices.io/patterns/deployment/service-per-vm.html",target:"_blank",rel:"noopener noreferrer"},de={style:{color:"#585858"}},he={href:"https://microservices.io/patterns/deployment/service-per-vm.html",target:"_blank",rel:"noopener noreferrer"},me={style:{color:"#585858"}},_e={href:"https://microservices.io/patterns/deployment/service-per-vm.html",target:"_blank",rel:"noopener noreferrer"},ge={style:{color:"#585858"}},fe={href:"https://microservices.io/patterns/deployment/service-per-vm.html",target:"_blank",rel:"noopener noreferrer"},ve={style:{color:"#585858"}},be={href:"https://microservices.io/patterns/deployment/service-per-vm.html",target:"_blank",rel:"noopener noreferrer"},ye={style:{color:"#585858"}},ke={href:"https://microservices.io/patterns/deployment/service-per-vm.html",target:"_blank",rel:"noopener noreferrer"},qe={style:{color:"#585858"}},xe={href:"https://microservices.io/patterns/deployment/service-per-vm.html",target:"_blank",rel:"noopener noreferrer"},De={style:{color:"#585858"}},Se={href:"https://microservices.io/patterns/deployment/service-per-container.html",target:"_blank",rel:"noopener noreferrer"},Ce={style:{color:"#585858"}},Ae={href:"https://microservices.io/patterns/deployment/service-per-container.html",target:"_blank",rel:"noopener noreferrer"},Pe={style:{color:"#585858"}},we={href:"https://microservices.io/patterns/deployment/service-per-container.html",target:"_blank",rel:"noopener noreferrer"},Te={style:{color:"#585858"}},Le={href:"https://microservices.io/patterns/deployment/service-per-container.html",target:"_blank",rel:"noopener noreferrer"},Ie={style:{color:"#585858"}},Me={href:"https://microservices.io/patterns/deployment/service-per-container.html",target:"_blank",rel:"noopener noreferrer"},Be={style:{color:"#585858"}},Ee={href:"https://microservices.io/patterns/deployment/service-per-container.html",target:"_blank",rel:"noopener noreferrer"},ze={style:{color:"#585858"}},Oe={href:"https://microservices.io/patterns/deployment/service-per-container.html",target:"_blank",rel:"noopener noreferrer"},He={style:{color:"#585858"}},Ue={href:"https://microservices.io/patterns/deployment/serverless-deployment.html",target:"_blank",rel:"noopener noreferrer"},Ge={style:{color:"#585858"}},Re={href:"https://microservices.io/patterns/deployment/serverless-deployment.html",target:"_blank",rel:"noopener noreferrer"},Ve={style:{color:"#585858"}},je={href:"https://microservices.io/patterns/deployment/serverless-deployment.html",target:"_blank",rel:"noopener noreferrer"},Ne={style:{color:"#585858"}},Qe={href:"https://microservices.io/patterns/deployment/service-deployment-platform.html",target:"_blank",rel:"noopener noreferrer"},Ze={style:{color:"#585858"}},Je={href:"https://microservices.io/patterns/deployment/service-deployment-platform.html",target:"_blank",rel:"noopener noreferrer"},We={style:{color:"#585858"}},Fe={href:"https://microservices.io/patterns/deployment/service-deployment-platform.html",target:"_blank",rel:"noopener noreferrer"},Xe={style:{color:"#585858"}},Ye={href:"https://microservices.io/patterns/deployment/service-deployment-platform.html",target:"_blank",rel:"noopener noreferrer"},Ke={style:{color:"#585858"}},$e={href:"https://microservices.io/patterns/deployment/service-deployment-platform.html",target:"_blank",rel:"noopener noreferrer"},et={style:{color:"#585858"}},tt={href:"https://microservices.io/patterns/security/access-token.html",target:"_blank",rel:"noopener noreferrer"},it={style:{color:"#585858"}},st={href:"https://microservices.io/patterns/security/access-token.html",target:"_blank",rel:"noopener noreferrer"},nt={style:{color:"#585858"}},rt={href:"https://microservices.io/patterns/security/access-token.html",target:"_blank",rel:"noopener noreferrer"},lt=n('<h3 id="pieges-a-eviter" tabindex="-1"><a class="header-anchor" href="#pieges-a-eviter"><span>Pièges à éviter</span></a></h3><ul><li>Granularité <ul><li>J’ai regroupé plusieurs services en un seul « macroservice »</li><li>Chaque méthode de mon application est devenue un microservice</li></ul></li><li>Architecture globale <ul><li>Il est très difficile de comprendre ce qui se passe entre mes services</li><li>La recherche d’information dans les logs est trop longue</li><li>Impossible de relancer ou ajouter rapidement des instances de mes services</li></ul></li></ul><h3 id="scalabilite" tabindex="-1"><a class="header-anchor" href="#scalabilite"><span>Scalabilité</span></a></h3>',3),ot=e("br",null,null,-1),at={href:"http://microservices.io/articles/scalecube.html",target:"_blank",rel:"noopener noreferrer"},ct=n('<p><strong>Axe X : scalabilité horizontale</strong></p><ul><li>Dupliquer (cloner) les composants autant que nécessaire</li><li>Utiliser des techniques de load balancing pour les adresser</li></ul><figure><img src="'+m+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>Axe Y : scalabilité verticale (pattern couches)</strong></p><p>Décomposer l’application en modules fonctionnels</p><ul><li>En fonction des use cases à traiter</li><li>En fonction de leurs positions dans les patterns utilisés (couche, MVC…)</li><li>En fonction de leurs cycles de vie</li><li>En fonction de leurs caratéristiques techniques (langages…)</li><li>En fonction des équipes de développement</li></ul><figure><img src="'+_+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+g+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>Axe Z : partitionnement des données</strong> Faire en sorte que les données accédées par chaque microservice soient aussi indépendantes que possible</p><ul><li>Dans les décompositions fonctionnelles</li><li>Dans la répartition horizontale</li></ul><figure><img src="'+f+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="outils-et-plateformes" tabindex="-1"><a class="header-anchor" href="#outils-et-plateformes"><span>Outils et plateformes</span></a></h2><h3 id="langage-dedie" tabindex="-1"><a class="header-anchor" href="#langage-dedie"><span>Langage dédié</span></a></h3>',13),pt={style:{color:"#585858"}},ut={href:"http://www.jolie-lang.org/",target:"_blank",rel:"noopener noreferrer"},dt=e("h3",{id:"plateformes-d-execution",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#plateformes-d-execution"},[e("span",null,"Plateformes d’exécution")])],-1),ht={href:"https://www.docker.com/",target:"_blank",rel:"noopener noreferrer"},mt={href:"http://azure.microsoft.com/en-us/campaigns/service-fabric/",target:"_blank",rel:"noopener noreferrer"},_t={href:"https://aws.amazon.com/fr/",target:"_blank",rel:"noopener noreferrer"},gt=e("h3",{id:"plateformes-de-deploiement",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#plateformes-de-deploiement"},[e("span",null,"Plateformes de déploiement")])],-1),ft=e("ul",null,[e("li",null,"VM dédiées : CoreOS, RancherOS , Ubuntu Snappy, Boot2Docker, docker-machine…")],-1),vt=e("h3",{id:"outils-docker",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#outils-docker"},[e("span",null,"Outils Docker")])],-1),bt={href:"https://docs.docker.com/engine/reference/builder/",target:"_blank",rel:"noopener noreferrer"},yt={href:"https://docs.docker.com/compose/compose-file/",target:"_blank",rel:"noopener noreferrer"},kt={href:"https://docs.docker.com/machine/overview/",target:"_blank",rel:"noopener noreferrer"},qt={href:"https://www.portainer.io/",target:"_blank",rel:"noopener noreferrer"},xt={href:"https://docs.docker.com/engine/swarm/",target:"_blank",rel:"noopener noreferrer"},Dt={href:"https://kubernetes.io/",target:"_blank",rel:"noopener noreferrer"},St={href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"},Ct={href:"https://cloud.google.com/compute/",target:"_blank",rel:"noopener noreferrer"},At={href:"https://cloud.google.com/compute/",target:"_blank",rel:"noopener noreferrer"},Pt={href:"https://devcenter.heroku.com/articles/docker",target:"_blank",rel:"noopener noreferrer"},wt={href:"https://www.digitalocean.com/docs/one-clicks/docker/",target:"_blank",rel:"noopener noreferrer"},Tt=n('<h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>L&#39;architecture microservice est une forme d’architecture applicative</p><ul><li>Dérivée des SOA</li><li>Avec des mécanismes de communication simples</li><li>Qui reprend des patterns connus</li></ul><p>Généralement embarqué dans un container</p><ul><li>Qui facilite le déploiement</li><li>Dédié à la scalabilité et à la performance</li><li>Complet</li><li>Destiné à des hôtes / stacks homogènes</li></ul><h3 id="avantages-1" tabindex="-1"><a class="header-anchor" href="#avantages-1"><span>Avantages</span></a></h3><ul><li>Agilité <ul><li>Conception à l’échelle de la fonctionnalité</li><li>Isolation des fonctionnalités</li></ul></li><li>Légèreté : Permet de s’abstraire de la couche OS (VM)</li><li>Scalabilité <ul><li>Verticale : permet de ne répliquer que les services chargés</li><li>Horizontale : déport des services les plus chargés vers des nœuds différents</li></ul></li></ul><h3 id="inconvenients-1" tabindex="-1"><a class="header-anchor" href="#inconvenients-1"><span>Inconvénients</span></a></h3><ul><li>Overhead <ul><li>Nécessite une communication orientée-message entre les services ( <em>vs</em> . appel de méthodes)</li><li>Nécessite une « surveillance » du fonctionnement des services (monitoring, tolérance aux pannes, pilotage)</li><li>Accès aux ressources partagées</li></ul></li><li>Humain : Nécessite que les équipes soient effectivement structurées selon l’architecture du produit</li><li>Vision / mise au point globale de l’application : Pas simple, peut nécessiter plusieurs itérations</li></ul><h3 id="problematiques" tabindex="-1"><a class="header-anchor" href="#problematiques"><span>Problématiques</span></a></h3><ul><li>Complexité des échanges de données</li><li>Choix du mode de communication des services</li><li>Sécurité des communications internes</li><li>Monitoring / débogage de l’application</li><li>Outils de développement, de packaging, de déploiement</li></ul><div class="hint-container info"><p class="hint-container-title">Info</p><p>Ce ne sont pas vraiment de nouvelles problématiques</p></div><h2 id="references" tabindex="-1"><a class="header-anchor" href="#references"><span>Références</span></a></h2>',13),Lt={href:"http://microservices.io/",target:"_blank",rel:"noopener noreferrer"},It={href:"http://martinfowler.com/articles/microservices.html",target:"_blank",rel:"noopener noreferrer"},Mt={href:"https://martinfowler.com/bliki/BoundedContext.html",target:"_blank",rel:"noopener noreferrer"},Bt={href:"https://aws.amazon.com/fr/microservices/",target:"_blank",rel:"noopener noreferrer"},Et={href:"https://en.wikipedia.org/wiki/Scalability",target:"_blank",rel:"noopener noreferrer"},zt={href:"http://docs.docker.com/",target:"_blank",rel:"noopener noreferrer"},Ot={href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"},Ht=e("h3",{id:"demo-en-live",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#demo-en-live"},[e("span",null,"Démo en live")])],-1),Ut=e("p",null,"Consul, Gateway, services backend et front-end, portail puzzle.",-1);function Gt(Rt,Vt){const i=l("ExternalLinkIcon");return o(),a("div",null,[b,e("p",null,[t("Source : "),e("a",y,[t("https://microservices.io/articles/applying.html"),s(i)])]),k,e("p",null,[q,t(),e("a",x,[t("https://fr.wikipedia.org/wiki/Loi_de_Conway"),s(i)])]),D,e("ul",null,[e("li",null,[S,e("ul",null,[C,A,e("li",null,[t("Patterns liés : "),e("a",P,[t("Saga"),s(i)]),t(", "),e("a",w,[t("CQRS"),s(i)])])])]),T]),L,e("ul",null,[e("li",null,[t("Déploiement "),e("ul",null,[e("li",null,[e("span",I,[e("em",null,[e("a",M,[t("Multiple"),s(i)])])]),t(),e("span",B,[e("em",null,[e("a",E,[s(i)])])]),t(),e("span",z,[e("em",null,[e("a",O,[t("service"),s(i)])])]),t(),e("span",H,[e("em",null,[e("a",U,[s(i)])])]),t(),e("span",G,[e("em",null,[e("a",R,[t("instances"),s(i)])])]),t(),e("span",V,[e("em",null,[e("a",j,[s(i)])])]),t(),e("span",N,[e("em",null,[e("a",Q,[t("per"),s(i)])])]),t(),e("span",Z,[e("em",null,[e("a",J,[s(i)])])]),t(),e("span",W,[e("em",null,[e("a",F,[t("host"),s(i)])])])]),e("li",null,[e("span",X,[e("em",null,[e("a",Y,[t("Service"),s(i)])])]),t(),e("span",K,[e("em",null,[e("a",$,[s(i)])])]),t(),e("span",ee,[e("em",null,[e("a",te,[t("instance"),s(i)])])]),t(),e("span",ie,[e("em",null,[e("a",se,[s(i)])])]),t(),e("span",ne,[e("em",null,[e("a",re,[t("per"),s(i)])])]),t(),e("span",le,[e("em",null,[e("a",oe,[s(i)])])]),t(),e("span",ae,[e("em",null,[e("a",ce,[t("host"),s(i)])])])]),e("li",null,[e("span",pe,[e("em",null,[e("a",ue,[t("Service"),s(i)])])]),t(),e("span",de,[e("em",null,[e("a",he,[s(i)])])]),t(),e("span",me,[e("em",null,[e("a",_e,[t("instance"),s(i)])])]),t(),e("span",ge,[e("em",null,[e("a",fe,[s(i)])])]),t(),e("span",ve,[e("em",null,[e("a",be,[t("per"),s(i)])])]),t(),e("span",ye,[e("em",null,[e("a",ke,[s(i)])])]),t(),e("span",qe,[e("em",null,[e("a",xe,[t("VM"),s(i)])])])]),e("li",null,[e("span",De,[e("em",null,[e("a",Se,[t("Service"),s(i)])])]),t(),e("span",Ce,[e("em",null,[e("a",Ae,[s(i)])])]),t(),e("span",Pe,[e("em",null,[e("a",we,[t("instance"),s(i)])])]),t(),e("span",Te,[e("em",null,[e("a",Le,[s(i)])])]),t(),e("span",Ie,[e("em",null,[e("a",Me,[t("per"),s(i)])])]),t(),e("span",Be,[e("em",null,[e("a",Ee,[s(i)])])]),t(),e("span",ze,[e("em",null,[e("a",Oe,[t("Container"),s(i)])])])]),e("li",null,[e("span",He,[e("em",null,[e("a",Ue,[t("Serverless"),s(i)])])]),t(),e("span",Ge,[e("em",null,[e("a",Re,[s(i)])])]),t(),e("span",Ve,[e("em",null,[e("a",je,[t("deployment"),s(i)])])])]),e("li",null,[e("span",Ne,[e("em",null,[e("a",Qe,[t("Service"),s(i)])])]),t(),e("span",Ze,[e("em",null,[e("a",Je,[s(i)])])]),t(),e("span",We,[e("em",null,[e("a",Fe,[t("deployment"),s(i)])])]),t(),e("span",Xe,[e("em",null,[e("a",Ye,[s(i)])])]),t(),e("span",Ke,[e("em",null,[e("a",$e,[t("platform"),s(i)])])])])])]),e("li",null,[t("Sécurisation "),e("ul",null,[e("li",null,[e("span",et,[e("em",null,[e("a",tt,[t("Access"),s(i)])])]),t(),e("span",it,[e("em",null,[e("a",st,[s(i)])])]),t(),e("span",nt,[e("em",null,[e("a",rt,[t("Token"),s(i)])])])])])])]),lt,e("p",null,[t("The Scale Cube "),ot,t(" Source : "),e("a",at,[t("http://microservices.io/articles/scalecube.html"),s(i)])]),ct,e("ul",null,[e("li",null,[e("span",pt,[e("em",null,[e("a",ut,[t("Jolie"),s(i)])])])])]),dt,e("ul",null,[e("li",null,[e("a",ht,[t("Docker"),s(i)])]),e("li",null,[e("a",mt,[t("Microsoft Service"),s(i)])]),e("li",null,[e("a",_t,[t("AWS"),s(i)])])]),gt,ft,vt,e("ul",null,[e("li",null,[t("Mono-conteneur : "),e("a",bt,[t("Dockerfile"),s(i)])]),e("li",null,[t("Mono-hôte : "),e("a",yt,[t("Compose"),s(i)])]),e("li",null,[t("Clusters : "),e("a",kt,[t("Machine"),s(i)])]),e("li",null,[t("Monitoring / gestion de conteneurs : "),e("a",qt,[t("Portainer"),s(i)])]),e("li",null,[t("Gestion de clusters : "),e("ul",null,[e("li",null,[e("a",xt,[t("Swarm"),s(i)])]),e("li",null,[e("a",Dt,[t("Kubernetes"),s(i)])])])]),e("li",null,[t("Repository : "),e("a",St,[t("https://hub.docker.com/"),s(i)])]),e("li",null,[t("Hébergement : "),e("ul",null,[e("li",null,[e("a",Ct,[t("Google"),s(i)])]),e("li",null,[e("a",At,[t("AWS"),s(i)])]),e("li",null,[e("a",Pt,[t("Heroku"),s(i)])]),e("li",null,[e("a",wt,[t("Digital Ocean"),s(i)])])])])]),Tt,e("ul",null,[e("li",null,[e("a",Lt,[t("http://microservices.io/"),s(i)])]),e("li",null,[e("a",It,[t("http://martinfowler.com/articles/microservices.html"),s(i)])]),e("li",null,[e("a",Mt,[t("https://martinfowler.com/bliki/BoundedContext.html"),s(i)])]),e("li",null,[e("a",Bt,[t("https://aws.amazon.com/fr/microservices/"),s(i)])]),e("li",null,[e("a",Et,[t("https://en.wikipedia.org/wiki/Scalability"),s(i)])]),e("li",null,[e("a",zt,[t("http://docs.docker.com/"),s(i)])]),e("li",null,[e("a",Ot,[t("https://hub.docker.com/"),s(i)])])]),Ht,Ut])}const Qt=r(v,[["render",Gt],["__file","session02.html.vue"]]),Zt=JSON.parse('{"path":"/courses/session02.html","title":"Les microservices","lang":"en-US","frontmatter":{"title":"Les microservices","pageInfo":false,"order":3,"date":"2023-01-01T00:00:00.000Z","sticky":true,"star":true,"copyright":false,"footer":"Talent HUB | Copyright © 2024","lastUpdated":false,"contributors":false,"description":"Les microservices Le cours est disponible ICI Introduction Qu’est-ce qu’une architecture monolithique ? Exemple d’architecture (Web) Exemple d’architecture (serveur d’applis) Av...","head":[["meta",{"property":"og:url","content":"https://docs.talenthub.dev/courses/session02.html"}],["meta",{"property":"og:title","content":"Les microservices"}],["meta",{"property":"og:description","content":"Les microservices Le cours est disponible ICI Introduction Qu’est-ce qu’une architecture monolithique ? Exemple d’architecture (Web) Exemple d’architecture (serveur d’applis) Av..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-04-20T15:31:43.000Z"}],["meta",{"property":"article:author","content":"Talent HUB Team"}],["meta",{"property":"article:published_time","content":"2023-01-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-20T15:31:43.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Les microservices\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-01-01T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-20T15:31:43.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Talent HUB Team\\",\\"url\\":\\"https://talenthub.dev\\"}]}"]]},"headers":[{"level":2,"title":"Introduction","slug":"introduction","link":"#introduction","children":[{"level":3,"title":"Qu’est-ce   qu’une architecture monolithique ?","slug":"qu-est-ce-qu-une-architecture-monolithique","link":"#qu-est-ce-qu-une-architecture-monolithique","children":[]},{"level":3,"title":"Qu’est-ce   qu’une architecture orientée service (SOA) ?","slug":"qu-est-ce-qu-une-architecture-orientee-service-soa","link":"#qu-est-ce-qu-une-architecture-orientee-service-soa","children":[]},{"level":3,"title":"Qu’est-ce   qu’une architecture   microservices   ?","slug":"qu-est-ce-qu-une-architecture-microservices","link":"#qu-est-ce-qu-une-architecture-microservices","children":[]}]},{"level":2,"title":"Concepts","slug":"concepts","link":"#concepts","children":[{"level":3,"title":"Caractéristiques   d’un   microservice   ?","slug":"caracteristiques-d-un-microservice","link":"#caracteristiques-d-un-microservice","children":[]},{"level":3,"title":"Définition   d’une application en   microservice","slug":"definition-d-une-application-en-microservice","link":"#definition-d-une-application-en-microservice","children":[]},{"level":3,"title":"Bounded    context","slug":"bounded-context","link":"#bounded-context","children":[]},{"level":3,"title":"Smart enpoint,    dumb pipe","slug":"smart-enpoint-dumb-pipe","link":"#smart-enpoint-dumb-pipe","children":[]}]},{"level":2,"title":"Méthodologie","slug":"methodologie","link":"#methodologie","children":[{"level":3,"title":"Décompostion de l’application","slug":"decompostion-de-l-application","link":"#decompostion-de-l-application","children":[]},{"level":3,"title":"Aspects humains","slug":"aspects-humains","link":"#aspects-humains","children":[]},{"level":3,"title":"Gestion des données","slug":"gestion-des-donnees","link":"#gestion-des-donnees","children":[]},{"level":3,"title":"Communication entre conteneurs","slug":"communication-entre-conteneurs","link":"#communication-entre-conteneurs","children":[]},{"level":3,"title":"Composition de l’interface (GUI)","slug":"composition-de-l-interface-gui","link":"#composition-de-l-interface-gui","children":[]},{"level":3,"title":"Autres problématiques","slug":"autres-problematiques","link":"#autres-problematiques","children":[]},{"level":3,"title":"Pièges à éviter","slug":"pieges-a-eviter","link":"#pieges-a-eviter","children":[]},{"level":3,"title":"Scalabilité","slug":"scalabilite","link":"#scalabilite","children":[]}]},{"level":2,"title":"Outils et plateformes","slug":"outils-et-plateformes","link":"#outils-et-plateformes","children":[{"level":3,"title":"Langage dédié","slug":"langage-dedie","link":"#langage-dedie","children":[]},{"level":3,"title":"Plateformes d’exécution","slug":"plateformes-d-execution","link":"#plateformes-d-execution","children":[]},{"level":3,"title":"Plateformes de déploiement","slug":"plateformes-de-deploiement","link":"#plateformes-de-deploiement","children":[]},{"level":3,"title":"Outils Docker","slug":"outils-docker","link":"#outils-docker","children":[]}]},{"level":2,"title":"Conclusion","slug":"conclusion","link":"#conclusion","children":[{"level":3,"title":"Avantages","slug":"avantages-1","link":"#avantages-1","children":[]},{"level":3,"title":"Inconvénients","slug":"inconvenients-1","link":"#inconvenients-1","children":[]},{"level":3,"title":"Problématiques","slug":"problematiques","link":"#problematiques","children":[]}]},{"level":2,"title":"Références","slug":"references","link":"#references","children":[{"level":3,"title":"Démo en live","slug":"demo-en-live","link":"#demo-en-live","children":[]}]}],"git":{"createdTime":1713451211000,"updatedTime":1713627103000,"contributors":[{"name":"Lionel Leiva-Marcon","email":"llm@d-flow.fr","commits":6}]},"readingTime":{"minutes":7.26,"words":2179},"filePathRelative":"courses/session02.md","localizedDate":"January 1, 2023","autoDesc":true}');export{Qt as comp,Zt as data};
