import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o,c as a,b as e,e as t,d as n,a as r}from"./app-D7XL0ZiN.js";const p="/assets/THA_REST_WebAPI_v102-Bd_FLph6.jpg",c="/assets/THA_REST_WebAPI_v103-CxkX6MbO.jpg",u="/assets/THA_REST_WebAPI_v104-CyzLEpwQ.png",d="/assets/THA_REST_WebAPI_v105-ykN3-ArN.jpg",h="/assets/THA_REST_WebAPI_v107-DuqD1zln.png",g="/assets/THA_REST_WebAPI_v108-SjxBzKZy.png",m="/assets/THA_REST_WebAPI_v109-Bba0MXBn.png",f="/assets/THA_REST_WebAPI_v1010-C4Md-1_2.png",b="/assets/THA_REST_WebAPI_v1011-Bsvq76s9.png",_="/assets/THA_REST_WebAPI_v1012-DvkkvRXl.png",y="/assets/THA_REST_WebAPI_v1013-DaKp8Kyo.png",v="/assets/THA_REST_WebAPI_v104-CyzLEpwQ.png",x="/assets/THA_REST_WebAPI_v1015-R0vHp5ps.png",T="/assets/THA_REST_WebAPI_v1016-DL13z6-z.png",A="/assets/THA_REST_WebAPI_v1017-XGGMLKuT.png",S="/assets/THA_REST_WebAPI_v1018-CYgMwpQK.png",q="/assets/THA_REST_WebAPI_v1019-DnuZ69xc.png",R="/assets/THA_REST_WebAPI_v1020-D908CKk3.png",k="/assets/THA_REST_WebAPI_v1021-DXx96Kn1.png",E="/assets/THA_REST_WebAPI_v1022-DKZwyAMe.png",P="/assets/THA_REST_WebAPI_v104-CyzLEpwQ.png",w={},C=r('<h1 id="rest-et-web-api-s" tabindex="-1"><a class="header-anchor" href="#rest-et-web-api-s"><span>REST et Web APIâ€™s</span></a></h1><p>Le cours est disponible <a href="/pdf/THA_REST_WebAPI_v1.0.pdf">ICI</a></p><h2 id="approche-projet" tabindex="-1"><a class="header-anchor" href="#approche-projet"><span>Approche projet</span></a></h2><ul><li><span style="color:#5497B4;">Introduction</span></li><li><span style="color:#5497B4;">REST en thÃ©orie</span></li><li><span style="color:#5497B4;">REST en pratique</span></li><li><span style="color:#5497B4;">Web APIs</span></li><li><span style="color:#5497B4;">Conclusion</span></li><li><span style="color:#5497B4;">Questions</span></li></ul><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction"><span>Introduction</span></a></h2><h3 id="avant-les-services-web" tabindex="-1"><a class="header-anchor" href="#avant-les-services-web"><span><span style="color:#5497B4;"><strong>Avant : les Services Web</strong></span></span></a></h3><ul><li>Ã‰change de services en Machine-to-Machine (M2M)</li><li>Notion dâ€™ Architectures OrientÃ©es-Services (AOS)</li><li>Notions dâ€™Â« orchestration Â» et de Â« chorÃ©graphie Â» de services</li><li>Ensemble de technologies (SOAP, WSDL, UDDI, BPEL)</li></ul><figure><img src="'+p+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="caracteristiques-d-un-service-web" tabindex="-1"><a class="header-anchor" href="#caracteristiques-d-un-service-web"><span><span style="color:#5497B4;"><strong>CaractÃ©ristiques dâ€™un service Web</strong></span></span></a></h3><ul><li>Permet lâ€™Ã©change de messages(documents) et non de pages Web <ul><li>XML, JSONâ€¦</li></ul></li><li>Expose une API (Clients AJAX, autres services) <ul><li>Ensemble dâ€™opÃ©rations disponibles (verbes)</li></ul><ul><li>Ex : login, addUserToGroup, createReservation</li></ul></li><li>Utilise (ou pas) HTTP comme protocole de transport <ul><li>HTTP <ul><li><span style="color:#000000;">Uniquement des requÃªtes POST</span></li><li><span style="color:#000000;">Beaucoup de Â«reditesÂ»</span></li></ul></li><li>Autres : SMTP, TCP, UDP, JMSâ€¦</li></ul></li></ul><figure><img src="'+c+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="les-services-web-au-final" tabindex="-1"><a class="header-anchor" href="#les-services-web-au-final"><span><span style="color:#5497B4;"><strong>Les services Web : au final</strong></span></span></a></h3><p>Un mÃ©canisme trÃ¨s puissant pour les applications Web complexes</p><ul><li><strong>Pas si Â«simpleÂ»</strong> <br> RedÃ©ploie toute une stack au-dessus de HTTP</li><li><strong>Pas si interopÃ©rable</strong> <br> ProblÃ¨mes dâ€™encodage, de (dÃ©)sÃ©rialisation des messages dus aux implÃ©mentations des outils</li><li><strong>Pas si standard / rÃ©utilisable</strong><br> Lâ€™API dâ€™un service dÃ©pend des choix de conception<br> Couplage fort entre fournisseur (serveur) et consommateur (client)</li><li><strong>Pas (du tout ?) scalable</strong><br> Pas de cache, mauvaises performances dues Ã  la stack et Ã  la bande passante importante</li></ul><div class="hint-container info"><p class="hint-container-title">En rÃ©sumÃ©</p><p>Perte des Â«bonnes propriÃ©tÃ©sÂ» qui ont fait le succÃ¨s du Web</p></div><ul><li></li></ul><h2 id="rest-en-theorie" tabindex="-1"><a class="header-anchor" href="#rest-en-theorie"><span>REST, en thÃ©orie</span></a></h2><div class="hint-container info"><p class="hint-container-title">Citation</p><p>&quot;La thÃ©orie, c &#39;est quand on sait tout et que rien ne fonctionne... &quot;</p></div><figure><img src="'+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Selon toute vraisemblance, ce portrait dâ€™Albert Einstein serait en fait le rÃ©sultat dâ€™un Ã©tonnant concours de circonstances. Le 14 mars 1951, le physicien allemande fÃªte en effet son 72Ã¨me anniversaire, Ã  cÃ´tÃ© de lâ€™universitÃ© de Princeton, dans lâ€™Ã‰tat du New Jersey.</p><p>Suivi durant toute cette journÃ©e par une cohorte de journalistes, le vieil homme est mitraillÃ© de flashs provenant de nombreux appareils photos. Alors, par lassitude, celui qui voulait simplement fÃªter son anniversaire en compagnie de ses proches se retourne vers un des photographesâ€¦ et tire ostensiblement la langue. Pris sur le vif, par un employÃ© de lâ€™agence de presse amÃ©ricaine Â«United Press InternationalÂ», le clichÃ© est rapidement transmis Ã  de nombreux journaux</p><h3 id="modele-de-maturite-de-richardson" tabindex="-1"><a class="header-anchor" href="#modele-de-maturite-de-richardson"><span><span style="color:#5497B4;"><strong>ModÃ¨le de maturitÃ© de Richardson</strong></span></span></a></h3>',22),I={href:"http://martinfowler.com/articles/richardsonMaturityModel.html",target:"_blank",rel:"noopener noreferrer"},L=e("p",null,[t("Le "),e("strong",null,"ModÃ¨le de MaturitÃ© de Richardson"),t(" permet de rÃ©duire, niveau par niveau, le couplage entre un client et un serveur REST en utilisant simplement et strictement ce qui fait le cÅ“ur du Web : les URIs, les verbes (mÃ©thodes) et codes retour HTTP, les liens (hypermÃ©dias).")],-1),W=e("p",null,[t("Atteindre le niveau 3 du MMR est la "),e("strong",null,"garantie"),t(" dâ€™avoir dâ€™ores et dÃ©jÃ  un systÃ¨me dâ€™information "),e("strong",null,"HATEOAS"),t(" , rÃ©ellement Restful.")],-1),D=e("figure",null,[e("img",{src:d,alt:"",tabindex:"0",loading:"lazy"}),e("figcaption")],-1),B={href:"https://architecturelogicielle.wordpress.com/2013/04/25/le-modele-de-maturite-de-richardson/",target:"_blank",rel:"noopener noreferrer"},H=r('<p>3 principes fondateurs du Web ont Ã©tÃ© soulignÃ©s :</p><ul><li>les URIs</li><li>le protocole HTTP</li><li>les hypermÃ©dias</li></ul><div class="hint-container info"><p class="hint-container-title">Info</p><p>Ces trois principes constituent prÃ©cisÃ©ment les trois niveaux de maturitÃ© du modÃ¨le de Leonard Richardson, le niveau 3 reprÃ©sentant lâ€™objectif Ã  atteindre pour parler dâ€™un systÃ¨me dâ€™information distribuÃ© rÃ©ellement REST, ou Restful.</p></div><h3 id="style-architectural" tabindex="-1"><a class="header-anchor" href="#style-architectural"><span><span style="color:#5497B4;"><strong>Style architectural</strong></span></span></a></h3>',4),j={href:"http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm",target:"_blank",rel:"noopener noreferrer"},U=e("em",null,"Architectural Styles and the Design of Network - based Software Architectures",-1),M=e("br",null,null,-1),F=e("strong",null,"contraintes",-1),O=e("strong",null,"propriÃ©tÃ©s",-1),N=e("br",null,null,-1),z=e("p",null,"La question sous-jacente Ã©tait dâ€™identifier les contraintes Ã  respecter dans le dÃ©veloppement du Web:",-1),J=e("ul",null,[e("li",null,"pour conserver les propriÃ©tÃ©s ayant fait son succÃ¨s,"),e("li",null,"pour corriger les problÃ¨mes constatÃ©s,"),e("li",null,"pour Ã©valuer les Ã©volutions futures des technologies.")],-1),G={href:"https://opikanoba.org/tr/fielding/rest/",target:"_blank",rel:"noopener noreferrer"},Q=r('<h3 id="objectifs" tabindex="-1"><a class="header-anchor" href="#objectifs"><span><span style="color:#5497B4;"><strong>Objectifs</strong></span></span></a></h3><div class="hint-container info"><p class="hint-container-title">Roy Fielding a Ã©crit</p><p><strong>REST emphasizes</strong> Â«</p><ul><li>scalability of component interactions,</li><li>generality of interfaces,</li><li>independent deployment of components, and</li><li>intermediary components to <ul><li>reduce interaction latency,</li><li>enforce security, and</li><li>encapsulate legacy systems. Â»</li></ul></li></ul></div><h4 id="passage-a-l-echelle" tabindex="-1"><a class="header-anchor" href="#passage-a-l-echelle"><span><span style="color:#5497B4;"><strong>Passage Ã  lâ€™Ã©chelle</strong></span></span></a></h4><p><strong>ProblÃ¨me de performance</strong> La dimension et lâ€™expansion constante du Web obligent Ã  considÃ©rer dÃ¨s le dÃ©part les problÃ¨mes dâ€™Ã©chelle.</p><p><strong>ProblÃ¨me de robustesse</strong> Le systÃ¨me ne peut pas Ãªtre 100% opÃ©rationnel 100% du temps.</p><div class="hint-container info"><p class="hint-container-title">Rappel</p><p>Le Web 1.0 se base sur :</p><ul><li>HyperText Markup Language</li><li>Hypertext Transfer Protocol : Verbes, codes de retour, media types, cache</li><li>Uniform Resource Locator : Ressource</li></ul></div><p><strong>ReprÃ©sentation d&#39;une transaction HTTP</strong></p><p>SchÃ©ma de reprÃ©sentation simple d&#39;une transaction<br><img src="'+h+'" alt="" loading="lazy"></p><p>Mais de nombreux composants sont en gÃ©nÃ©ral Ã  traverser<br><img src="'+g+'" alt="" loading="lazy"></p><p>Et l&#39;ensemble du web est plus complexe que la reprÃ©sentation initiale<br><img src="'+m+'" alt="" loading="lazy"></p><h4 id="generalite-des-interfaces" tabindex="-1"><a class="header-anchor" href="#generalite-des-interfaces"><span><span style="color:#5497B4;"><strong>GÃ©nÃ©ralitÃ© des interfaces</strong></span></span></a></h4><p><strong>Facilite le dÃ©veloppement des composants</strong> RÃ©utilisation de bibliothÃ¨ques standard, interopÃ©rabilitÃ©.</p><p><strong>Ã‰volutivitÃ©</strong> Web de documents, Web de services, Web 2.0, Web des donnÃ©es, Web sÃ©mantique... Principle of partial understanding (Michael Hausenblas)</p><h4 id="deploiement-independant-des-composants" tabindex="-1"><a class="header-anchor" href="#deploiement-independant-des-composants"><span><span style="color:#5497B4;"><strong>DÃ©ploiement indÃ©pendant des composants</strong></span></span></a></h4><p><strong>Contrainte dâ€™Ã©chelle</strong><br> Pas de centralisation possible sur le Web</p><p><strong>Adoption et Ã©volution rapides</strong><br> Grassroot movement (poussÃ© par le bas), Â« sÃ©lection naturelle Â», modÃ¨le du Bazar (Eric Raymond)</p><h4 id="composants-intermediaires" tabindex="-1"><a class="header-anchor" href="#composants-intermediaires"><span><span style="color:#5497B4;"><strong>Composants intermÃ©diaires</strong></span></span></a></h4><p><span style="color:#3E4349;"><strong>RÃ©duire la latence</strong></span></p><p><span style="color:#3E4349;">en conservant en cache le rÃ©sultat de certaines requÃªtes (proxy),</span></p><p><span style="color:#3E4349;">en rÃ©partissant la charge entre plusieurs serveurs redondants (reverse proxy).</span></p><p><span style="color:#3E4349;"><strong>Assurer la sÃ©curitÃ©</strong></span></p><p><span style="color:#3E4349;">en masquant lâ€™accÃ¨s Ã  certains serveurs (proxy filtrant, reverse proxy, n-tiers).</span></p><p><span style="color:#3E4349;"><strong>Encapsulant des services</strong></span></p><p><span style="color:#3E4349;">en adaptant les requÃªtes (</span> <span style="color:#3E4349;">gateway</span> <span style="color:#3E4349;">) â† gÃ©nÃ©ralitÃ© des interfaces</span></p><h3 id="contraintes" tabindex="-1"><a class="header-anchor" href="#contraintes"><span><span style="color:#5497B4;"><strong>Contraintes</strong></span></span></a></h3><p>Les <em>contraintes</em> de REST selon Fielding sont les suivantes :</p><ul><li>Client-serveur</li><li>Connexion sans Ã©tat (<em>stateless</em>)</li><li>Support des caches</li><li>Interface uniforme</li><li>SystÃ¨me en couches</li><li>Code Ã  la demande (optionel)</li></ul><p>Nous allons aborder chacune de ces contraintes.</p><h4 id="client-serveur" tabindex="-1"><a class="header-anchor" href="#client-serveur"><span><strong>Client-serveur</strong></span></a></h4><figure><img src="'+f+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>Separation of concern</strong> (Edsger W. Dikstra)<br></p><ol><li>Le <strong>serveur</strong> est responsable du stockage et de la cohÃ©rence des donnÃ©es (Ã©tat des ressources).</li><li>Le <strong>client</strong> est responsable : <ul><li>de la prÃ©sentation/du traitement des donnÃ©es,</li><li>de maintenir le contexte/Ã©tat de lâ€™interaction (cf. ci aprÃ¨s).</li></ul></li></ol><div class="hint-container info"><p class="hint-container-title">Remarques</p><p>Cette sÃ©paration peut Ãªtre appliquÃ©e, mÃªme si le client et le serveur sont sur le mÃªme machine. Certains composants sont Ã  la fois client et serveur (e.g. proxy). Ils respectent cependant la sÃ©paration des prÃ©occupations vis-Ã -vis des composants avec lesquels ils communiquent.</p></div><h4 id="systeme-en-couches" tabindex="-1"><a class="header-anchor" href="#systeme-en-couches"><span><span style="color:#5497B4;"><strong>SystÃ¨me en couches</strong></span></span></a></h4><p>Cette contrainte spÃ©cifie quâ€™un composant ne doit se soucier que de ses interlocuteurs directs. Le protocole HTTP assure lui mÃªme la cohÃ©rence des messages le long de la chaÃ®ne dâ€™intÃ©rmÃ©diaires en spÃ©cificiant, en fonction de leur sÃ©mantique, quelles parties dâ€™une requÃªte ou dâ€™une rÃ©ponse sont Hop-by-hop ou End-by-end. Ceci permet la mise en place de Composants intermÃ©diaires.</p><div class="hint-container info"><p class="hint-container-title">Rappel</p><p>Les en-tÃªtes de type end-to-end sont mis en cache et transfÃ©rÃ©s par les proxy. Les Ã©ventuels en-tÃªtes de type hop-by-hop ne sont pas mis en cache et ne sont pas transfÃ©rÃ©s. De nouveaux en-tÃªtes hop-by-hop peuvent Ãªtre crÃ©Ã©s par le proxy.</p></div><figure><img src="'+b+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="support-des-caches" tabindex="-1"><a class="header-anchor" href="#support-des-caches"><span><span style="color:#5497B4;"><strong>Support des caches</strong></span></span></a></h4><p>Les verbes et les statuts prÃ©-dÃ©finis par HTTP ont une sÃ©mantique suffisamment prÃ©cise pour informer les caches de la possibilitÃ© de Â« cacher Â» ou non un rÃ©sultat. HTTP permet de contrÃ´ler plus finement le cache avec un certain nombres de champs dâ€™en-tÃªte (Cache-Control, Expires)<br><strong>NB: Lâ€™utilisation systÃ©matique de POST empÃªche lâ€™exploitation des caches.</strong></p><figure><img src="'+_+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="connexion-sans-etat" tabindex="-1"><a class="header-anchor" href="#connexion-sans-etat"><span><span style="color:#5497B4;"><strong>Connexion sans Ã©tat</strong></span></span></a></h4><p>Le serveur ne doit pas sâ€™encombrer du <em>contexte</em> de lâ€™interaction. Ce contexte est rappelÃ© Ã  chaque requÃªte par le client, et les modifications de contexte sont indiquÃ©es dans la rÃ©ponse.</p><p>=&gt; auto-suffisance des messages</p><p><strong>InconvÃ©nients</strong></p><ul><li>surcoÃ»t en bande passante</li><li>authentification Ã  chaque requÃªte (â†’ HTTPS)</li></ul><p><strong>Avantages</strong></p><ul><li>performances (un serveur / beaucoup de clients)</li><li>robustesse (redÃ©marrage ou changement de serveur, <strong>clients nomades</strong>)</li><li>facilite le travail des intermÃ©diaires</li></ul><h4 id="interface-uniforme" tabindex="-1"><a class="header-anchor" href="#interface-uniforme"><span><span style="color:#5497B4;"><strong>Interface uniforme</strong></span></span></a></h4><h5 id="_1-ressources" tabindex="-1"><a class="header-anchor" href="#_1-ressources"><span>(1): ressources</span></a></h5><ul><li>Une ressource est un constituant du service (ex : mÃ©decin, crÃ©neau horaire, rendez-vous, patient). <ul><li>Une collection de ressource est aussi une ressource.</li></ul></li><li>Toute ressource est identifiÃ©e par une URL. <ul><li>RÃ©ciproquement, deux URLs diffÃ©rentes identifient (a priori) des ressources diffÃ©rentes.</li></ul></li><li>Une ressource a un Ã©tat interne (donnÃ©es stockÃ©es sur le serveur) <ul><li>qui varie dans le temps,</li><li>et qui est inaccessible aux clients.</li></ul></li></ul><h5 id="_2-representation" tabindex="-1"><a class="header-anchor" href="#_2-representation"><span>(2): reprÃ©sentation</span></a></h5><p>Une ressource nâ€™est manipulÃ©e par le client quâ€™Ã  travers des reprÃ©sentations de son Ã©tat.</p><figure><img src="'+y+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h5 id="_3-messages-auto-suffisants" tabindex="-1"><a class="header-anchor" href="#_3-messages-auto-suffisants"><span>(3): messages auto-suffisants</span></a></h5><ul><li>La sÃ©mantique de la requÃªte est entiÃ¨rement portÃ©e par le message : <ul><li>verbe (GET, PUT, POST, DELETE)</li><li>URL cible</li><li>en-tÃªtes Ã©ventuels</li><li>reprÃ©sentation Ã©ventuelle</li></ul></li><li>TrÃ¨s liÃ© Ã  SystÃ¨me en couches et Connexion sans Ã©tat.</li></ul><h5 id="_4-hypermedia" tabindex="-1"><a class="header-anchor" href="#_4-hypermedia"><span>(4): hypermÃ©dia</span></a></h5><p><span style="color:#000000;">Hypertext As The Engine Of Application State (HATEOAS)</span></p><p><span style="color:#000000;">Notion </span> <span style="color:#000000;">dâ€™affordance</span></p><p><span style="color:#3E4349;">La reprÃ©sentation dâ€™une ressource comporte les liens vers dâ€™autres ressources (identifiÃ©es par leurs </span> <span style="color:#3E4349;">URIs</span> <span style="color:#3E4349;">).</span></p><p><span style="color:#3E4349;">La sÃ©mantique du lien dÃ©pend du format de la reprÃ©sentation.</span></p><p><span style="color:#3E4349;">Lâ€™Ã©tat dâ€™un client change en suivant les liens dÃ©couvert dans les reprÃ©sentations.</span></p><p><span style="color:#3E4349;"><strong>NB :</strong></span> <span style="color:#3E4349;"> Une alternative consiste Ã  construire un URI en fonction des informations fournies par une reprÃ©sentation. Câ€™est le cas des formulaires HTML utilisant la mÃ©thode GET, </span> <span style="color:#3E4349;">e.g.:</span> <span style="color:#222222;">http</span> <span style="color:#222222;">ğŸ˜•/www.google.fr/search?q=hypertexte</span></p><h4 id="code-a-la-demande-optionnel" tabindex="-1"><a class="header-anchor" href="#code-a-la-demande-optionnel"><span><span style="color:#5497B4;"><strong>Code Ã  la demande (optionnel)</strong></span></span></a></h4><p><span style="color:#3E4349;">Cette contrainte consiste Ã  permettre au serveur dâ€™envoyer au client non seulement la description dâ€™un Ã©tat, mais Ã©galement une logique de traitement (programme).</span></p><p><span style="color:#3E4349;">On peut voir AJAX (</span> <span style="color:#3E4349;">Asynchronous</span> <span style="color:#3E4349;"> Javascript and XML) et ses dÃ©rivÃ©s (JSON) comme une gÃ©nÃ©ralisation de ce principe (mÃªme si AJAX nâ€™utilise pas forcÃ©ment des Ã©changes RESTful).</span></p><h2 id="rest-en-pratique" tabindex="-1"><a class="header-anchor" href="#rest-en-pratique"><span>REST en pratique</span></a></h2><div class="hint-container info"><p class="hint-container-title">Citation</p><p>La thÃ©orie, c &#39;est quand on sait tout et que rien ne fonctionne...<br> La pratique, c &#39;est quand tout fonctionne et que personne ne sait pourquoi...</p></div><figure><img src="'+v+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="approche-orientee-ressource" tabindex="-1"><a class="header-anchor" href="#approche-orientee-ressource"><span><span style="color:#5497B4;"><strong>Approche orientÃ©e-ressource</strong></span></span></a></h3><div class="hint-container info"><p class="hint-container-title">Important</p><p>En REST, la responsabilitÃ© du serveur est de gÃ©rer et dâ€™exposer des <strong>ressources</strong></p></div><p>â€¦Et câ€™est tout (pas lâ€™interaction avec le client).</p><h4 id="les-ressources" tabindex="-1"><a class="header-anchor" href="#les-ressources"><span>Les ressources</span></a></h4><ul><li>Symbolisent des objets du domaine <ul><li>Peuvent correspondre Ã  des entitÃ©s en base ou Ãªtre virtuelles</li><li>Sont identifiÃ©es par des noms (pas des verbes) (Plus proche de lâ€™orientÃ©-objet)</li></ul></li><li>Sont exposÃ©es par leurs <strong>URL</strong></li><li>Sont Ã©changÃ©es sous forme de <strong>reprÃ©sentations</strong> (Ã©ventuellement partielles)</li></ul><h4 id="comment-travailler-en-oriente-ressource" tabindex="-1"><a class="header-anchor" href="#comment-travailler-en-oriente-ressource"><span>Comment travailler en orientÃ©-ressource</span></a></h4><ol><li><strong>Concevoir un modÃ¨le de ressources arborescent</strong></li></ol>',75),X=e("li",null,[t("Deux sortes de ressources "),e("ul",null,[e("li",null,"Instance (objet mÃ©tier)"),e("li",null,"Collection dâ€™instances")])],-1),V={href:"https://fr.wikipedia.org/wiki/GRASP_(programmation)",target:"_blank",rel:"noopener noreferrer"},K=e("li",null,[t("Les cas dâ€™utilisations de lâ€™application se rapportent Ã  lâ€™__Ã©tat __ interne de ces ressources "),e("ul",null,[e("li",null,"OpÃ©rations similaires Ã  du CRUD"),e("li",null,"OpÃ©rations mÃ©tier")])],-1),Z=e("ol",{start:"2"},[e("li",null,[e("strong",null,"DÃ©finir les URL qui permettent dâ€™accÃ©der aux ressources"),e("br"),t(" ThÃ©oriquement, en REST, la forme des URL est libre si elles identifient une ressource de faÃ§on unique (dâ€™oÃ¹ le nom)")])],-1),Y=e("p",null,[e("strong",null,"Exemples")],-1),$={href:"https://talenthub.dev/search",target:"_blank",rel:"noopener noreferrer"},ee={href:"https://talehub.dev/search/users/TH001",target:"_blank",rel:"noopener noreferrer"},te={class:"hint-container info"},se=e("p",{class:"hint-container-title"},"Bonnes pratiques",-1),ne=e("li",null,"Faire apparaÃ®tre le type et le nom de la ressource adressÃ©e",-1),re={href:"https://talehub.dev/search/users/TH001",target:"_blank",rel:"noopener noreferrer"},ie=r(`<p><strong>Remarque</strong> : lâ€™Ã©tat interne des ressources nâ€™est pas accessible au client</p><ol start="3"><li><strong>SpÃ©cifier les transferts de reprÃ©sentations dâ€™Ã©tats des ressources entre le client et le serveur pour chaque cas dâ€™utilisation de lâ€™application</strong></li></ol><ul><li>Identifier lâ€™ensemble des propriÃ©tÃ©s qui dÃ©crivent utilement lâ€™Ã©tat de la ressource <ul><li>souvent sÃ©rialisÃ©s sous forme de paires clÃ©s valeurs</li></ul></li><li>DÃ©terminer un/des format(s) de donnÃ©es pour les transactions HTTP <ul><li>Rappel : en MVC, une vue est une reprÃ©sentation des donnÃ©es, quel quâ€™en soit le format</li></ul></li></ul><h3 id="transactions-sans-etat" tabindex="-1"><a class="header-anchor" href="#transactions-sans-etat"><span><span style="color:#5497B4;"><strong>Transactions sans Ã©tat</strong></span></span></a></h3><div class="hint-container info"><p class="hint-container-title">Important</p><p>En REST, le client a la responsabilitÃ© de gÃ©rer le contexte de lâ€™interaction avec le serveur<br> Le serveur ne conserve aucune trace des interactions passÃ©es<br></p></div><p>La connexion est dite <strong>sans Ã©tat</strong> (<strong>stateless</strong>). Câ€™est le client qui maintient ses Â« variables de session Â»</p><p>ğŸ¡† Il transmet dans la requÃªte le contexte nÃ©cessaire pour la traiter</p><p>En Ã©liminant la gestion des sessions par le serveur â†ªï¸ on Ã©limine un goulot dâ€™Ã©tranglement<br> â†ªï¸ on Ã©conomise des ressources<br></p><div class="hint-container tip"><p class="hint-container-title">Avantages</p><ul><li>Gain en performances et en scalabilitÃ©</li><li>Maintenance et Ã©volution facilitÃ©es</li></ul></div><ul><li><p><strong>Identifier les Ã©lÃ©ments contextuels dont le serveur a besoin pour fonctionner</strong></p><ul><li><span style="color:#000000;">qui seraient des attributs de session en Â«</span> <span style="color:#000000;">stateful</span> <span style="color:#000000;">Â»</span></li><li><span style="color:#000000;">diffÃ©rents des paramÃ¨tres de la requÃªte (ne changent pas Ã  chaque requÃªte)</span></li><li><span style="color:#000000;">diffÃ©rents des identifiants des ressources</span></li><li><span style="color:#000000;">diffÃ©rents des donnÃ©es de configuration de lâ€™application</span></li></ul></li><li><p><strong>Passer le contexte dans la requÃªte</strong></p><ul><li>En paramÃ¨tres : en fonction de la mÃ©thode HTTP</li><li>Dans lâ€™URL<div class="language-markdown" data-ext="md" data-title="md"><pre class="language-markdown"><code>https://www.qwant.com/?q=test&amp;t=web
https://api.qwant.com/api/search/web?count=10&amp;q=test&amp;t=web&amp;device=tablet&amp;safesearch=1&amp;locale=fr_FR&amp;uiv=4
</code></pre></div></li><li>Dans le corps de la requÃªte<div class="language-markdown" data-ext="md" data-title="md"><pre class="language-markdown"><code>  {&quot;query&quot;:&quot;test&quot;,&quot;language&quot;:&quot;francais&quot;,&quot;pl&quot;:&quot;extff&quot;,&quot;lui&quot;:&quot;francais&quot;}
</code></pre></div></li><li>Dans les headers HTTP <ul><li>Authorization</li><li>Cookies ( stateless , mais pas restful)</li></ul></li></ul></li><li><p><strong>3. RÃ©cupÃ©rer le contexte cÃ´tÃ© serveur</strong></p><ul><li>Authentification, autorisation <ul><li>Filtres</li></ul></li><li>Informations nÃ©cessaires au traitement de la requÃªte <ul><li>ContrÃ´leur</li><li>Quel type de MVC choisir ? Pull based ou push based ?</li></ul></li></ul></li><li><p><strong>4. Traiter la requÃªte en interrogeant la bonne instance du modÃ¨le</strong></p></li></ul><p>Les bonnes pratiques sont :</p>`,11),le=r("<li><strong>Version :</strong> Ã  la racine de lâ€™arbre (pas nÃ©cessairement du serveur)</li><li><strong>Chemins</strong><ul><li>Utiliser des noms pluriels pour les collections</li><li>Utiliser des id dâ€™instances comme sous-ressources des collections</li><li>SÃ©parer les Ã©lÃ©ments par des slashs (Â«/Â»)</li><li>Pas de slash final</li></ul></li><li><strong>ParamÃ¨tres : filtres, tri, pagination</strong><br><strong>Exemples</strong><ul><li>https://talenthub.dev/api/v3/users/toto/friends/1</li><li>https://talenthub.dev/api/v3/messages?author=toto&amp;sort=+title,-index</li><li>https://talenthub.dev/api/v3/messages?offset=100&amp;limit=25</li></ul></li>",3),oe=e("strong",null,"URL pour les requÃªtes de CU Â«opÃ©rationnelsÂ»",-1),ae=e("li",null,"Utiliser un verbe",-1),pe=e("br",null,null,-1),ce=e("strong",null,"Exemples",-1),ue={href:"https://talenthub.dev/api/v3/users/toto/friends/1/users/login",target:"_blank",rel:"noopener noreferrer"},de={href:"https://talenthub.dev/api/v3/users/toto/friends/1/users/toto/playlist/play",target:"_blank",rel:"noopener noreferrer"},he=r('<h3 id="utilisation-avancee-de-http" tabindex="-1"><a class="header-anchor" href="#utilisation-avancee-de-http"><span><span style="color:#5497B4;"><strong>Utilisation avancÃ©e de HTTP</strong></span></span></a></h3><h4 id="historique-des-specifications-ietf" tabindex="-1"><a class="header-anchor" href="#historique-des-specifications-ietf"><span>Historique des spÃ©cifications IETF</span></a></h4><p><strong>Juin 1999</strong></p><ul><li><span style="color:#00A2D5;">RFC 2616</span> <span style="color:#000000;">: contient tout HTTP 1.1</span></li></ul><p><strong>Juin 2014</strong></p><ul><li><span style="color:#00A2D5;">RFC 7230</span> <span style="color:#000000;">: Message </span> <span style="color:#000000;">Syntaxand</span> <span style="color:#000000;"></span> <span style="color:#000000;">Routing</span></li><li><span style="color:#00A2D5;">RFC 7231</span> <span style="color:#000000;">: </span> <span style="color:#000000;">Semanticsand</span> <span style="color:#000000;"> Content</span></li><li><span style="color:#00A2D5;">RFC 7232</span> <span style="color:#000000;">: </span> <span style="color:#000000;">ConditionalRequests</span></li><li><span style="color:#00A2D5;">RFC 7233</span> <span style="color:#000000;">: Range </span> <span style="color:#000000;">Requests</span></li><li><span style="color:#00A2D5;">RFC 7234</span> <span style="color:#000000;">: </span> <span style="color:#000000;">Caching</span></li><li><span style="color:#00A2D5;">RFC 7235</span> <span style="color:#000000;">: </span> <span style="color:#000000;">Authentication</span></li></ul><p>Roy Fielding est Ã©diteur en chef de toutes ces spÃ©cifications</p><h4 id="rappel-verbes-http" tabindex="-1"><a class="header-anchor" href="#rappel-verbes-http"><span>Rappel : verbes HTTP</span></a></h4><p><strong>SÃ©mantique des mÃ©thodes</strong></p><p>Source : <span style="color:#00A3D6;"><em>RFC 7231</em></span></p><p>Il existe une correspondance entre le CRUD (Create Update Delete) et les verbes HTTP<br></p><figure><img src="'+x+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+T+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="correspondance-avec-crud" tabindex="-1"><a class="header-anchor" href="#correspondance-avec-crud"><span>Correspondance avec CRUD</span></a></h4><ul><li>Remarques sur la sÃ©mantique des verbes HTTP</li><li><strong>POST</strong> est officiellement dÃ©finie comme <strong>cachable</strong></li><li>Sous rÃ©serve dâ€™existence de certaines directives de cache</li><li>Dans le cas dâ€™une rÃ©ponse 200 OK&lt;</li><li>mais trÃ¨s rarement implÃ©mentÃ©</li><li><span style="color:#000000;"><strong>Contenu de rÃ©ponse</strong></span></li><li><span style="color:#000000;">Seule GET a pour sÃ©mantique dâ€™obtenir un contenu dans la rÃ©ponse</span></li><li><span style="color:#000000;">POST, PUT, DELETE visent Ã  modifier le serveur ; un contenu dans la rÃ©ponse nâ€™est en gÃ©nÃ©ral pas nÃ©cessaire</span></li></ul><h4 id="codes-de-statut-d-erreur" tabindex="-1"><a class="header-anchor" href="#codes-de-statut-d-erreur"><span>Codes de statut / dâ€™erreur</span></a></h4><ul><li><p><span style="color:#000000;">Bonnes pratiques pour les codes de statut (succÃ¨s)</span></p><ul><li><span style="color:#000000;"><strong>Renvoi dâ€™un contenu :</strong></span></li><li><span style="color:#000000;">200 </span> <span style="color:#000000;">OKou</span> <span style="color:#000000;"> 206 Partial Content</span></li><li><span style="color:#000000;"><strong>CrÃ©ation dâ€™une ressource :</strong></span></li><li><span style="color:#000000;">201 </span> <span style="color:#000000;">Created</span> <span style="color:#000000;">+ lien vers la ressource dans le header Location</span></li><li><span style="color:#000000;"><strong>Modification dâ€™une ressource :</strong></span></li><li><span style="color:#000000;">200 OK+ reprÃ©sentation, si nÃ©cessaire</span></li><li><span style="color:#000000;">204 No Content, sinon</span></li><li><span style="color:#000000;"> __Suppression dâ€™une ressource : __ </span></li><li><span style="color:#000000;">204 No Content</span></li></ul></li><li><p><span style="color:#000000;">Ne pas hÃ©siter Ã  sÃ©parer les opÃ©rations des CU et renvoyer des codes de succÃ¨s sans contenu. </span></p><ul><li><span style="color:#000000;"><strong>RÃ©actualisation dâ€™une ressource :</strong></span></li><li><span style="color:#000000;">304 Not </span> <span style="color:#000000;">Modified</span> <span style="color:#000000;">: le client peut rÃ©utiliser la derniÃ¨re version renvoyÃ©e par le serveur (redirection vers le cache)</span></li><li><span style="color:#000000;">204 No Content: le client nâ€™a pas besoin de modifier lâ€™affichage, puisquâ€™aucun (nouveau) contenu ne provient du serveur</span></li><li><span style="color:#000000;"><strong>Erreurs dâ€™authentification / dâ€™autorisation</strong></span></li><li><span style="color:#000000;">401 </span> <span style="color:#000000;">Unauthorized</span> <span style="color:#000000;">: erreur dâ€™authentification</span></li><li><span style="color:#000000;">403 </span> <span style="color:#000000;">Forbidden</span> <span style="color:#000000;">: erreur dâ€™autorisation (malgrÃ© une authentification possiblement correcte)</span></li></ul></li></ul><p><span style="color:#5497B4;"> &quot;Although caching is an entirely OPTIONAL feature of HTTP, it can be assumed that reusing a cached response__ is desirable and that such reuse is the default behavior when no requirement or local configuration prevents it.â€œâ€“ From RFC7234</span></p><h4 id="gestion-du-cache-rfc7234" tabindex="-1"><a class="header-anchor" href="#gestion-du-cache-rfc7234"><span>Gestion du cache (<span style="color:#00A2D5;"><strong>RFC7234</strong></span>)</span></a></h4><ul><li>SpÃ©cifie le comportement des composants finaux et intermÃ©diaires</li><li>Rappel : la mÃ©thode HTTP utilisÃ©e doit Ãªtre cachable</li><li>Notions de <span style="color:#00A2D5;">Freshness</span>, dâ€™<span style="color:#00A2D5;">Ã¢ge</span>, de <span style="color:#00A2D5;">Staleresponse</span> (pÃ©rimÃ©e)</li><li>Headers : <span style="color:#00A2D5;">Age</span> , <span style="color:#00A2D5;">Cache-Control</span> , <span style="color:#00A2D5;">Expires</span> , <span style="color:#00A2D5;">Warning</span></li><li>Fonctionnement : 2 techniques (<span style="color:#00A2D5;">requÃªtes conditionnelles</span><ul><li><span style="color:#00A2D5;">Last-Modified</span> â¡ï¸ headers de requÃªte : <span style="color:#00A2D5;">If-Modified-Since</span> , <span style="color:#00A2D5;">If-Unmodified-Since</span>, <span style="color:#00A2D5;">If-Range</span></li><li><span style="color:#00A2D5;">Etag</span> (entitytag) â¡ï¸ headers de requÃªte :<span style="color:#00A2D5;">If-Match</span> , <span style="color:#00A2D5;">If-None-Match</span></li></ul></li><li>Codes de rÃ©ponse : <span style="color:#00A2D5;">304 Not </span> <span style="color:#00A2D5;">Modified</span>,<span style="color:#00A2D5;">412 </span> <span style="color:#00A2D5;">PreconditionFailed</span> (voir <span style="color:#00A2D5;">Validators</span>)</li></ul><h4 id="negociation-de-contenus" tabindex="-1"><a class="header-anchor" href="#negociation-de-contenus"><span>NÃ©gociation de contenus</span></a></h4><p><span style="color:#5497B4;">When responses convey payload information, whether indicating a success or an error, the origin server often has different ways of representing that information;for example, in different formats, languages , or encodingâ€ â€“ from RFC7231 </span></p><p>Rappel : client et serveur Ã©changent des reprÃ©sentations de ressources<br></p><p>La nÃ©gociation de contenus permet au serveur de renvoyer une reprÃ©sentation de ressource en fonction des prÃ©fÃ©rences du client</p><p>2 faÃ§ons pour le client dâ€™exprimer ses prÃ©fÃ©rences:</p><ul><li>Headers HTTP</li><li>Extension dans lâ€™URL</li></ul><p>Remarque : dans ce cas, on spÃ©cifie uniquement le format de sÃ©rialisation</p><figure><img src="'+A+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+S+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Envoi du <span style="color:#00A2D5;">media type</span>(ex. MIME types) dans la rÃ©ponse</p><table><thead><tr><th style="text-align:center;">Simple</th><th style="text-align:center;">Content-Type:</th><th style="text-align:center;">application/json</th></tr></thead><tbody><tr><td style="text-align:center;">Suffixe de sous-type</td><td style="text-align:center;">Content-Type:</td><td style="text-align:center;">application/ld+json</td></tr><tr><td style="text-align:center;">Sous-type Â« Vendor Â»</td><td style="text-align:center;">Content-Type:</td><td style="text-align:center;">application/vnd.ms-excel</td></tr><tr><td style="text-align:center;">Sous-type Â« Personal or vanity Â»</td><td style="text-align:center;">Content-Type:</td><td style="text-align:center;">audio/prs.sid</td></tr><tr><td style="text-align:center;">Sous-type Â« unregistered Â»</td><td style="text-align:center;">Content-Type:</td><td style="text-align:center;">application/x.foo</td></tr><tr><td style="text-align:center;">ParamÃ¨tres</td><td style="text-align:center;">Content-Type:</td><td style="text-align:center;">text/html; charset=utf-8</td></tr></tbody></table><p><strong>Syntaxe gÃ©nÃ©rale</strong>: type / subtype + [.suffix] [; parameters]</p><p>Plusieurs patterns de nÃ©gociation dans la spec</p><ul><li>Proactive Negotiation : une seule transaction HTTP <ul><li>RequÃªte : headers Accept *</li><li>RÃ©ponse : headers Content*</li></ul></li><li>Reactive Negotiation : 2 transactions <ul><li>RÃ©ponse vide avec code : 300 Multiple Choices / 406 Not Acceptable -&gt; liste de choix</li><li>Nouvelle requÃªte avec sÃ©lection parmi les propositions</li><li>Autres : Conditional content , Active content, Transparent Content Negotiation â€¦</li></ul></li></ul><p>ConcrÃ¨tement :</p><ul><li>Laisser le client exprimer ses prÃ©fÃ©rences (ou pas) dans la requÃªte initiale</li><li>Correctement implÃ©menter la nÃ©gociation proactive</li><li>PrÃ©voir la nÃ©gociation rÃ©active en fallback (406 Not Acceptable)</li></ul><h4 id="deploiement-independant-des-composants-1" tabindex="-1"><a class="header-anchor" href="#deploiement-independant-des-composants-1"><span>DÃ©ploiement indÃ©pendant des composants</span></a></h4><ul><li>Rappel : Â«scalabilitÃ© anarchiqueÂ»</li><li>Principe : pouvoir rajouter un composant de faÃ§on Â«transparenteÂ» pour lâ€™application</li><li>Fait appel Ã  dâ€™autres contraintes <ul><li>Composant terminal : serveur transactions sans Ã©tat</li><li>Composant terminal : client interface uniforme</li><li>Composant intermÃ©diaire : proxy, firewall, cache,loadbalancerâ€¦ ïƒŸclient-serveur, cache <ul><li>Messages auto-descriptifs (interprÃ©tables par les intermÃ©diaires)</li><li>Prise en compte des composants intermÃ©diaires par HTTP <ul><li>Codes de retour (305 Use Proxy, 502 Bad Gateway)</li><li>Directives de cache (no-store)</li></ul></li><li>Certains composants se comportent Ã  la fois comme un client et comme un serveur</li></ul></li></ul></li><li>SÃ©paration des prÃ©occupations entre les 2 rÃ´les</li></ul><h4 id="cas-des-cookies" tabindex="-1"><a class="header-anchor" href="#cas-des-cookies"><span>Cas des cookies</span></a></h4><ul><li><strong>Cookies de session</strong><ul><li>Contiennent uniquement un identifiant ; les donnÃ©es de session sont conservÃ©es cÃ´tÃ© serveur</li><li>violent le principe de Connexion sans Ã©tat</li></ul></li><li><strong>Cookies contenant explicitement les Â«donnÃ©es de sessionÂ»</strong><ul><li>Stateless, car les donnÃ©es sont bien envoyÃ©es dans la requÃªte</li><li>Pas RESTful car le client nâ€™est pas libre de choisir lâ€™Ã©tat de lâ€™interaction (câ€™est le serveur qui impose la valeur des cookies)</li></ul></li><li><strong>Remarque :</strong> les cookies changent <em>a posteriori</em> la sÃ©mantique des requÃªtes prÃ©cÃ©demment effectuÃ©es</li><li>=&gt;Â« cassent Â» le bouton back et certains mÃ©canismes de cache</li></ul><div class="hint-container warning"><p class="hint-container-title">ATTENTION</p><p><strong>Ã€ proscrire en REST</strong></p></div><h3 id="authentification-sans-etat" tabindex="-1"><a class="header-anchor" href="#authentification-sans-etat"><span><span style="color:#5497B4;"><strong>Authentification sans Ã©tat</strong></span></span></a></h3><p><strong>Rappel : la gestion des sessions</strong></p><p>Permet au serveur de Â« se rappeler Â» dâ€™un utilisateur</p><ul><li>DonnÃ©es de profil</li><li>Traces dâ€™interaction</li><li>...</li></ul><p>Techniquement</p><ul><li>Le client nâ€™envoie quâ€™un identifiant <ul><li>Cookie</li><li>Token dans lâ€™URL</li><li>Champ cachÃ© de formulaire</li></ul></li><li>Le serveur maintient les donnÃ©es associÃ©es Ã  cet identifiant : Ex (en Java) : Map</li></ul><p><strong>Avantages</strong></p><ul><li>DonnÃ©es protÃ©gÃ©es (cÃ´tÃ© serveur)</li><li>Bande passante rÃ©seau</li></ul><p><strong>InconvÃ©nients</strong></p><ul><li>Le client nâ€™a pas accÃ¨s Ã  ses propres donnÃ©es</li><li>ScalabilitÃ© <ul><li>Ressources consommÃ©es cÃ´tÃ© serveur</li><li>Goulot dâ€™Ã©tranglement</li></ul></li></ul><p><strong>Comment faire pour</strong></p><ul><li>TransfÃ©rer au client la responsabilitÃ© de gÃ©rer ses donnÃ©es</li><li>Satisfaire les contraintes fonctionnelles (sÃ©curitÃ©, scalabilitÃ©...)</li></ul><p><strong>Rappel : messages auto-descptifs</strong></p><p>Le client envoie le contexte de lâ€™interaction avec chaque requÃªte, y compris lâ€™authentification.</p><p><strong>ProblÃ¨me:</strong> On ne peut pas demander Ã  lâ€™utilisateur de retaper ses identifiants Ã  chaque requÃªte Stocker son login et son mot de passe cÃ´tÃ© client</p><p><strong>Solution</strong> Lâ€™utilisateur / lâ€™agent sâ€™identifie une fois Le serveur lui renvoie un token dâ€™authentification Le client renvoie ce token Ã  chaque requÃªte ultÃ©rieure Le serveur vÃ©rifie quâ€™il sâ€™agit bien de lâ€™utilisateur en validant le token</p><table><thead><tr><th style="text-align:center;">Stateful</th><th style="text-align:center;">Stateless</th></tr></thead><tbody><tr><td style="text-align:center;">Le token est une clÃ© pour accÃ©der aux variables de session</td><td style="text-align:center;">Le token ne permet que la validation de lâ€™identitÃ© de lâ€™utilisateur</td></tr><tr><td style="text-align:center;">Il est gÃ©nÃ©rÃ© par le serveur, la seule restriction est quâ€™il soit unique <br>Il doit Ãªtre conservÃ© cÃ´tÃ© serveur et cÃ´tÃ© client</td><td style="text-align:center;">Il est obtenu par chiffrement des informations dâ€™authentification de lâ€™utilisateur<br>Il suffit dâ€™avoir la clÃ© pour dÃ©chiffrer le token et valider lâ€™authentification</td></tr><tr><td style="text-align:center;"><strong>Le serveur gÃ¨re la session</strong> : La session peut Ãªtre invalidÃ©e par le serveur</td><td style="text-align:center;"><strong>Le token a une durÃ©e de vie fixe</strong><br>Le serveur ne peut pas invalider la session</td></tr><tr><td style="text-align:center;"><strong>Difficile de Â« partager Â» ce mÃ©canisme entre plusieurs serveurs</strong><br>Il faut aussi dÃ©lÃ©guer toute la gestion des donnÃ©es de session</td><td style="text-align:center;">La gestion de lâ€™authentification peut facilement Ãªtre confiÃ©e Ã  un tiers <br>Exemples : SSO, CAS</td></tr></tbody></table><p><strong>Stateless</strong></p><table><thead><tr><th style="text-align:left;"><strong>InconvÃ©nients</strong></th><th style="text-align:left;"><strong>Avantages</strong></th></tr></thead><tbody><tr><td style="text-align:left;">Protection de la clÃ©<br>Aucun contrÃ´le sur :<br>- La rÃ©vocation de session<br>- La vÃ©racitÃ© / fraÃ®cheur des donnÃ©es de session<br>ImplÃ©mentation plus lourde<br>Surtout pour un seul serveur<br></td><td style="text-align:left;">Peu de mÃ©moire consommÃ©e cÃ´tÃ© serveur<br>ScalabilitÃ©: Pour l&#39;ajout dâ€™un serveur, il suffit de lui partager la clÃ©<br>Externalisation:<br>- Single-Sign On (SSO)<br>-Se loguer avec son compte Google ou Facebook...<br>-MÃ©canismes dâ€™authentification gÃ©nÃ©riques (CAS, Oauth)<br></td></tr></tbody></table><h4 id="authentification-en-http-rfc-7235" tabindex="-1"><a class="header-anchor" href="#authentification-en-http-rfc-7235"><span>Authentification en HTTP (<span style="color:#00A2D5;">RFC 7235</span>)</span></a></h4><p><strong>RequÃªte Ã  un serveur</strong></p><ul><li>En-tÃªte <strong>Authorization</strong> :Indique une demande dâ€™authentification du client au serveur</li><li><strong>Contenu</strong><ul><li>Type dâ€™authentification</li><li>Credentials : Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</li></ul></li></ul><p><strong>RequÃªte Ã  un proxy</strong></p><ul><li>En-tÃªte <strong>Proxy-Authorization</strong></li><li>Contenu : identique</li></ul><p><strong>RÃ©ponse du serveur</strong></p><ul><li>Code dâ€™erreur : <strong>401 Unauthorized</strong><ul><li>En-tÃªte <strong>WWW-Authenticate</strong></li><li><span style="color:#8B7A6F;">P</span> <span style="color:#000000;">ermet Ã  un serveur dâ€™indiquer au client comment accÃ©der Ã  une ressource</span></li><li><span style="color:#000000;"><strong>Contenu</strong></span></li><li>Type dâ€™authentification (scheme)</li><li>Realm, charsetâ€¦ (facultatifs)</li></ul></li></ul><p><strong>RÃ©ponse du proxy</strong></p><ul><li>Code dâ€™erreur : <strong>407 Proxy AuthenticationRequired</strong><ul><li>En-tÃªte : Proxy-Authenticate</li><li>Contenu : identique</li></ul></li></ul><h4 id="types-d-authentification-en-http-methodes-les-plus-classiques" tabindex="-1"><a class="header-anchor" href="#types-d-authentification-en-http-methodes-les-plus-classiques"><span><strong>Types dâ€™authentification en HTTP (MÃ©thodes les plus classiques)</strong></span></a></h4><table><thead><tr><th style="text-align:center;">Scheme</th><th style="text-align:center;">Spec</th><th style="text-align:center;">Description</th></tr></thead><tbody><tr><td style="text-align:center;">Basic</td><td style="text-align:center;">rRFC76i7l</td><td style="text-align:center;">Syntaxe = userid password ; encodÃ© en base64</td></tr><tr><td style="text-align:center;">Bearer</td><td style="text-align:center;">rRFC675Ql</td><td style="text-align:center;">Token (voir plus loin)</td></tr><tr><td style="text-align:center;">Digest</td><td style="text-align:center;">[RFC7616I</td><td style="text-align:center;">Proche de Basic, mais le serveur indique au client comment formuler et chiffrer les credentials</td></tr><tr><td style="text-align:center;">OAuth</td><td style="text-align:center;">[RFC584Q, Section 3.5.1I</td><td style="text-align:center;">Utilise le protocole Oauth (voir plus loin)</td></tr></tbody></table>',71),ge={id:"json-web-token-jwt",tabindex:"-1"},me={class:"header-anchor",href:"#json-web-token-jwt"},fe={href:"https://jwt.io/",target:"_blank",rel:"noopener noreferrer"},be=e("p",null,"Il est constituÃ© :",-1),_e=e("ul",null,[e("li",null,"D'un header"),e("li",null,"D'un payload"),e("li",null,"D'une signature")],-1),ye=e("p",null,[e("span",{style:{color:"#FF0000"}},"Header")],-1),ve=e("ul",null,[e("li",null,"Objet JSON : Identifie lâ€™algo de chiffrement de la signature")],-1),xe=e("p",null,[e("span",{style:{color:"#FF00FF"}},"Payload")],-1),Te={href:"https://tools.ietf.org/html/rfc7519%23section-4",target:"_blank",rel:"noopener noreferrer"},Ae=e("ul",null,[e("li",null,"DonnÃ©es dâ€™authentification"),e("li",null,"Ou autres")],-1),Se=r('<p><span style="color:#00B0F0;">Signature</span></p><ul><li>Avec une clÃ© symÃ©trique (HMAC)</li><li>Avec une clÃ© asymÃ©trique (RSA ou ECDSA)</li></ul><p><strong>Exemple de token :</strong></p><figure><img src="'+q+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="oauth2" tabindex="-1"><a class="header-anchor" href="#oauth2"><span><strong>OAuth2</strong></span></a></h4><ul><li>RFC6749(core) et RFC8252(Native Apps)</li><li>Protocole dâ€™authentification et de dÃ©lÃ©gation dâ€™authentification (SSO) <ul><li>4 scÃ©narios (granttypes)</li><li>Plusieurs types de cibles (webappscÃ´tÃ© serveur, Single-Page-Applications, desktop, mobileâ€¦)</li></ul></li><li>StandardisÃ© et largement utilisÃ© <ul><li>Google</li><li>Facebook</li><li>â€¦</li></ul></li><li>Nombreuses implÃ©mentation disponibles</li><li>Open source</li></ul><h3 id="hypermedia-as-the-engine-of-application-state-hateoas" tabindex="-1"><a class="header-anchor" href="#hypermedia-as-the-engine-of-application-state-hateoas"><span><span style="color:#5497B4;"><strong>Hypermedia As The Engine of Application State - HATEOAS</strong></span></span></a></h3>',7),qe={class:"hint-container info"},Re=e("p",{class:"hint-container-title"},"Info",-1),ke={href:"https://restfulapi.net/hateoas/",target:"_blank",rel:"noopener noreferrer"},Ee={href:"https://fr.wikipedia.org/wiki/URL",target:"_blank",rel:"noopener noreferrer"},Pe={href:"https://fr.wikipedia.org/wiki/Ressource_du_World_Wide_Web",target:"_blank",rel:"noopener noreferrer"},we={href:"https://fr.wikipedia.org/wiki/Type_de_m%C3%A9dias",target:"_blank",rel:"noopener noreferrer"},Ce={href:"https://fr.wikipedia.org/wiki/HATEOAS#cite_note-The_RESTful_CookBook-1",target:"_blank",rel:"noopener noreferrer"},Ie=e("strong",null,"account",-1),Le={href:"https://fr.wikipedia.org/wiki/Extensible_Markup_Language",target:"_blank",rel:"noopener noreferrer"},We=r('<figure><img src="'+R+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+k+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><span style="color:#202122;">La rÃ©ponse contient les liens suivants:</span> <span style="color:#202122;"><strong>deposit</strong></span> <span style="color:#202122;">Â (effectuer un dÃ©pÃ´t),Â </span> <span style="color:#202122;"><strong>withdraw</strong></span> <span style="color:#202122;">Â (effectuer un retrait),Â </span> <span style="color:#202122;"><strong>transfer</strong></span> <span style="color:#202122;">Â (effectuer un transfert), ouÂ </span> <span style="color:#202122;"><strong>close</strong></span> <span style="color:#202122;">Â (clÃ´turer le compte).</span></p><figure><img src="'+E+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><span style="color:#202122;">Lorsque les informations du compte sont rÃ©cupÃ©rÃ©es ultÃ©rieurement, le compte est Ã  dÃ©couvertÂ :</span></p><p><span style="color:#202122;">Maintenant un seul lien est disponibleÂ :Â </span> <span style="color:#202122;"><strong>deposit</strong></span> <span style="color:#202122;">. Dans son Ã©tat actuel, les autres liens ne sont pas disponibles. D&#39;oÃ¹ leÂ </span> <span style="color:#5497B4;"><em>EOAS</em></span> <span style="color:#202122;">Â de </span> <span style="color:#202122;"><strong>HATEOAS</strong></span> <span style="color:#202122;">, pourÂ </span> <span style="color:#202122;"><em>Engine of Application State</em></span> <span style="color:#202122;">Â : </span></p><p><span style="color:#5497B4;"><strong>Les actions possibles varient en fonction de l&#39;Ã©tat de la ressource.</strong></span></p><p><span style="color:#202122;">Un client n&#39;a pas besoin de comprendre tous les types de mÃ©dias et mÃ©canismes de communication offerts par le serveur. La capacitÃ© de comprendre les nouveaux types de mÃ©dias peut Ãªtre acquise au moment de l&#39;exÃ©cution grÃ¢ce au &quot;code Ã  la demande&quot; fourni au client par le serveur.</span></p><h2 id="web-api-s" tabindex="-1"><a class="header-anchor" href="#web-api-s"><span>Web API&#39;s</span></a></h2><div class="hint-container info"><p class="hint-container-title">Citation</p><p>&quot;La thÃ©orie, c&#39;est quand on sait tout et que rien ne fonctionne.<br> La pratique, c &#39;est quand tout fonctionne et que personne ne sait pourquoi.<br> Ici, nous avons rÃ©uni thÃ©orie et pratique :<br> Rien ne fonctionne... et personne ne sait pourquoi !&quot;</p></div><h3 id="le-tout-mis-ensemble" tabindex="-1"><a class="header-anchor" href="#le-tout-mis-ensemble"><span><span style="color:#5497B4;">Le tout mis ensemble</span></span></a></h3><p>REST fournit des principes pour :</p><ul><li>AllÃ©ger les serveurs</li><li>Permettre lâ€™Ã©volution des clients â¡ï¸ RÃ©duire le couplage entre serveur et client</li></ul><p>On peut donc rÃ©aliser des applications</p><ul><li>En exposant des ressources sur un serveur</li><li>En documentant lâ€™API du serveur Web</li><li>En rÃ©alisant le client sÃ©parÃ©ment <ul><li>En JavaScript pour les navigateurs</li><li>Sous forme dâ€™applications desktop ou mobile</li><li>Sur un autre serveur qui Â« consomme Â» les ressources du premier</li><li>Sur des composants intermÃ©diaires qui exposent / filtrent / transforment ces donnÃ©es</li></ul></li></ul><figure><img src="'+P+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="d-ailleurs-a-t-on-encore-besoin-de-clients" tabindex="-1"><a class="header-anchor" href="#d-ailleurs-a-t-on-encore-besoin-de-clients"><span><span style="color:#5497B4;"> Dâ€™ailleurs, a-t-on encore besoin de clients ?</span></span></a></h3><p>Le modÃ¨le du Web sâ€™est construit sur la mise Ã  disposition <em>worldwide</em> de</p><ul><li>Documents (pour les humains)</li><li>DonnÃ©es (pour les geeks et les machines)</li><li>Services et Ressources (pour les machines)</li></ul><p>Rappel de la notion dâ€™affordance</p><ul><li>Permet de dÃ©duire comment on se sert de quelque chose, mais pas pourquoi</li></ul><p>Les objectifs des tÃ¢ches rÃ©alisÃ©s par les clients sont rarement ceux prÃ©vus par les concepteurs des serveurs</p><p><strong>Chacun son boulot</strong></p><p>Les serveurs Web exposent les ressources dont ils disposent et les API pour les utiliser. Les clients utilisent ces API pour proposer aux utilisateurs des applications Web (ou pas) rÃ©pondant au mieux Ã  leurs besoins</p><p>Un serveur expose une <strong>Web API</strong></p><ul><li>Sous la forme dâ€™un ensemble de ressources RESTful</li><li>Avec un point dâ€™entrÃ©e unique (URL de base)</li><li>Avec sa documentation permettant <ul><li>De comprendre comment elle sâ€™utilise</li><li>De naviguer entre les ressources (HATEOAS)</li></ul></li></ul><div class="hint-container info"><p class="hint-container-title">Info</p><p>Ceci est la caractÃ©ristique d&#39;une Web API</p></div><p>Un client peut</p><ul><li>Consommer une Web API</li><li>En agrÃ©ger ( <strong>mashup</strong> ) plusieurs</li></ul><h3 id="acces-aux-web-api-s" tabindex="-1"><a class="header-anchor" href="#acces-aux-web-api-s"><span><span style="color:#5497B4;"> AccÃ¨s aux Web APIâ€™s </span></span></a></h3>',30),De=r("<li><strong>Sur le Web de documents, deux stratÃ©gies dâ€™accÃ¨s Ã  lâ€™information</strong></li><li>Navigation : liens dans les pages</li><li>RequÃªtage: moteurs de recherche</li><li><strong>MÃªme problÃ©matique pour les Web APIs</strong></li><li>Navigation <ul><li>Liens dans les APIs documentÃ©es connues</li><li>Liens rencontrÃ©s pendant lâ€™utilisation dâ€™une Web API <ul><li>Headers HTTP : Link â€¦</li><li>Redirections : 303 SeeOtherâ€¦</li></ul></li></ul></li>",5),Be={href:"https://apislist.com/",target:"_blank",rel:"noopener noreferrer"},He=e("li",null,[e("strong",null,"Remarque")],-1),je=e("li",null,"Toutes les APIs exposÃ©es sur le Web ne sont pas totalement RESTful",-1),Ue=e("h3",{id:"developper-une-web-api",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#developper-une-web-api"},[e("span",null,[e("span",{style:{color:"#5497B4"}},[e("strong",null,"DÃ©velopper une Web API")])])])],-1),Me=e("p",null,"Nombreux outils et frameworks orientÃ©s-ressources",-1),Fe=e("p",null,"En Java",-1),Oe={href:"https://jcp.org/en/jsr/detail?id=311",target:"_blank",rel:"noopener noreferrer"},Ne=e("p",null,"DÃ©finit principalement un ensemble dâ€™annotations pour faciliter le dÃ©veloppement en REST",-1),ze=e("p",null,"â€¢ @Path, @PathParam, @QueryParam",-1),Je=e("p",null,"â€¢ @GET,@POST,@DELETE,@PUT, @HEAD",-1),Ge=e("p",null,"â€¢ Â©Produces,Â©Consumes",-1),Qe={href:"https://cxf.apache.org/",target:"_blank",rel:"noopener noreferrer"},Xe={style:{color:"#0000FF"}},Ve={href:"https://projects.eclipse.org/projects/ee4j.jersey/",target:"_blank",rel:"noopener noreferrer"},Ke={href:"https://projects.eclipse.org/projects/ee4j.jersey/",target:"_blank",rel:"noopener noreferrer"},Ze={style:{color:"#0000FF"}},Ye={href:"http://tomee.apache.org/tomcat-jaxrs.html",target:"_blank",rel:"noopener noreferrer"},$e={href:"http://tomee.apache.org/tomcat-jaxrs.html",target:"_blank",rel:"noopener noreferrer"},et=e("h3",{id:"outils-d-aide-au-developpement",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#outils-d-aide-au-developpement"},[e("span",null,[e("span",{style:{color:"#5497B4"}},[e("strong",null,"Outils dâ€™aide au dÃ©veloppement")])])])],-1),tt=e("li",null,[e("strong",null,"DÃ©velopper / dÃ©bugger"),e("ul",null,[e("li",null,"CÃ´tÃ© serveur : utilisez le dÃ©bugger de votre IDE"),e("li",null,"CÃ´tÃ© client : F12 (Outils de dÃ©veloppement)")])],-1),st=e("strong",null,"Documenter / tester une API",-1),nt={href:"https://swagger.io/",target:"_blank",rel:"noopener noreferrer"},rt={href:"https://editor.swagger.io/",target:"_blank",rel:"noopener noreferrer"},it=e("strong",null,"Tester / scÃ©nariser",-1),lt={href:"https://www.soapui.org/",target:"_blank",rel:"noopener noreferrer"},ot={href:"https://www.getpostman.com/",target:"_blank",rel:"noopener noreferrer"},at=r('<h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p><span style="color:#5497B4;"><strong>REST, le modÃ¨le philosophique du Web ?</strong></span></p><p><strong>Un style architectural</strong></p><ul><li>en accord avec la structure distribuÃ©e et lâ€™Ã©chelle du Web</li><li>pour la conception de services applicatifs sur le Web</li></ul><p><strong>Un ensemble de bonne pratiques</strong></p><ul><li>Principes de conception</li><li>Design patterns (RESTful, RESTlike, RESTafarian...)</li></ul><p><span style="color:#5497B4;"><strong>Retour sur la notion dâ€™application Web</strong></span></p><p><strong>Augmentation de la bande passante</strong></p><p>Toute lâ€™information nÃ©cessaire au traitement de la requÃªte doit Â« voyager Â» dedans</p><p><strong>NÃ©cessite des clients Â« intelligents Â»</strong></p><p>MÃ©canismes dâ€™authentification plus lourds</p><p><strong>Quid des donnÃ©es internes au serveur ?</strong></p><p><strong>SÃ©mantique dÃ©clarative __ <em>vs.</em> __ opÃ©rationnelle</strong></p><p><span style="color:#5497B4;"><strong>REST a aussi des inconvÃ©nients</strong></span></p><p>Manque dâ€™un langage dâ€™un standard de description dâ€™interfaces</p>',15),pt=e("li",null,[e("strong",null,"FonctionnalitÃ©s"),e("ul",null,[e("li",null,"vÃ©rification automatique de la conformitÃ©"),e("li",null,"gÃ©nÃ©ration automatique de code (squelettes, stubs)"),e("li",null,"configuration automatique")])],-1),ct=e("li",null,[e("strong",null,"De nombreuses propositions...")],-1),ut={style:{color:"#5497B4"}},dt={href:"http://www.w3.org/TR/wsdl20/",target:"_blank",rel:"noopener noreferrer"},ht={style:{color:"#5497B4"}},gt={href:"http://www.w3.org/TR/wsdl20/",target:"_blank",rel:"noopener noreferrer"},mt=e("span",{style:{color:"#5497B4"}},"(2003)",-1),ft={style:{color:"#5497B4"}},bt={href:"http://knoesis.org/research/srl/projects/hRESTs/",target:"_blank",rel:"noopener noreferrer"},_t={style:{color:"#5497B4"}},yt={href:"http://knoesis.org/research/srl/projects/hRESTs/",target:"_blank",rel:"noopener noreferrer"},vt=e("span",{style:{color:"#5497B4"}},"et",-1),xt={style:{color:"#5497B4"}},Tt={href:"http://www.w3.org/Submission/SA-REST/",target:"_blank",rel:"noopener noreferrer"},At={style:{color:"#5497B4"}},St={href:"http://www.w3.org/Submission/SA-REST/",target:"_blank",rel:"noopener noreferrer"},qt=e("span",{style:{color:"#5497B4"}}," (2007-2008)",-1),Rt={style:{color:"#5497B4"}},kt={href:"http://www.w3.org/Submission/wadl/",target:"_blank",rel:"noopener noreferrer"},Et=e("span",{style:{color:"#5497B4"}}," (2009)",-1),Pt={style:{color:"#5497B4"}},wt={href:"http://hydra-cg.com/",target:"_blank",rel:"noopener noreferrer"},Ct={style:{color:"#5497B4"}},It={href:"http://hydra-cg.com/",target:"_blank",rel:"noopener noreferrer"},Lt=e("span",{style:{color:"#5497B4"}},"(2012)",-1),Wt={style:{color:"#5497B4"}},Dt={href:"https://swagger.io/resources/open-api/",target:"_blank",rel:"noopener noreferrer"},Bt={style:{color:"#5497B4"}},Ht={href:"https://swagger.io/resources/open-api/",target:"_blank",rel:"noopener noreferrer"},jt={style:{color:"#5497B4"}},Ut={href:"https://swagger.io/resources/open-api/",target:"_blank",rel:"noopener noreferrer"},Mt=e("span",{style:{color:"#5497B4"}},"(V1 : 2015, V3 : fÃ©vrier 2020)",-1),Ft=e("li",null,[e("span",{style:{color:"#998700"}}),t(" Mais aucune ne sâ€™est encore complÃ¨tement imposÃ©e.")],-1),Ot=r('<p><span style="color:#5497B4;"><strong>Retour sur la notion dâ€™application Web</strong></span></p><p><strong>DÃ©finition prÃ©cÃ©dente</strong></p><p>Application dont lâ€™interface est visible dans un navigateur</p><p><strong>Comment catÃ©goriser les Web APIs ?</strong></p><p>(meilleure) utilisation des standards du Web Pas de client Web / pas de client du tout (Mais pas des applications)</p><p><strong>Les Web APIs</strong> ne constituent pas des applications Web Ã  part entiÃ¨re</p><p>Modules dâ€™applications Web</p><p>Ã€ intÃ©grer dans la dÃ©marche de conception dâ€™une application client</p><h2 id="references" tabindex="-1"><a class="header-anchor" href="#references"><span>RÃ©fÃ©rences</span></a></h2><p><strong>Grands principes</strong></p>',10),Nt={href:"https://perso.liris.cnrs.fr/pierre-antoine.champin/enseignement/rest/",target:"_blank",rel:"noopener noreferrer"},zt={href:"https://www.crummy.com/writing/speaking/2008-QCon/act3.html",target:"_blank",rel:"noopener noreferrer"},Jt={href:"https://martinfowler.com/articles/richardsonMaturityModel.html",target:"_blank",rel:"noopener noreferrer"},Gt=e("p",null,[e("strong",null,"AvancÃ©")],-1),Qt={href:"https://fr.slideshare.net/AniruddhBhilvare/an-introduction-to-rest-api",target:"_blank",rel:"noopener noreferrer"},Xt={href:"https://fr.slideshare.net/stormpath/rest-jsonapis",target:"_blank",rel:"noopener noreferrer"},Vt=e("p",null,[e("strong",null,"URI / URL")],-1),Kt={href:"https://restfulapi.net/resource-naming/",target:"_blank",rel:"noopener noreferrer"},Zt=e("p",null,[e("strong",null,"NÃ©gociation de contenus / media types")],-1),Yt={href:"https://restfulapi.net/content-negotiation/",target:"_blank",rel:"noopener noreferrer"},$t={href:"https://akrabat.com/restful-apis-and-media-types/",target:"_blank",rel:"noopener noreferrer"},es={href:"http://amundsen.com/media-types/",target:"_blank",rel:"noopener noreferrer"},ts={href:"https://json-schema.org/latest/json-schema-core.html",target:"_blank",rel:"noopener noreferrer"},ss=e("p",null,[e("strong",null,"Authentification")],-1),ns={href:"https://medium.com/@kennch/stateful-and-stateless-authentication-10aa3e3d4986",target:"_blank",rel:"noopener noreferrer"},rs={href:"https://aaronparecki.com/oauth-2-simplified/",target:"_blank",rel:"noopener noreferrer"},is={href:"https://zestedesavoir.com/articles/1616/comprendre-oauth-2-0-par-lexemple/",target:"_blank",rel:"noopener noreferrer"},ls=e("p",null,[e("strong",null,"MÃ©thodes HTTP")],-1),os={href:"https://ruben.verborgh.org/blog/2012/09/27/the-object-resource-impedance-mismatch/",target:"_blank",rel:"noopener noreferrer"},as=e("p",null,[e("strong",null,"Web APIs")],-1),ps={href:"https://rubenverborgh.github.io/WebFundamentals/web-apis/",target:"_blank",rel:"noopener noreferrer"},cs={href:"https://www.programmableweb.com/",target:"_blank",rel:"noopener noreferrer"},us={href:"http://spec.openapis.org/oas/v3.0.3",target:"_blank",rel:"noopener noreferrer"},ds=e("p",null,[e("strong",null,"JAX-RS")],-1),hs={href:"https://jcp.org/en/jsr/detail?id=311",target:"_blank",rel:"noopener noreferrer"},gs={href:"https://en.wikipedia.org/wiki/Java_API_for_RESTful_Web_Services",target:"_blank",rel:"noopener noreferrer"},ms={href:"http://tomee.apache.org/tomcat-jaxrs.html",target:"_blank",rel:"noopener noreferrer"};function fs(bs,_s){const s=l("ExternalLinkIcon");return o(),a("div",null,[C,e("p",null,[t("Largement tirÃ© du "),e("a",I,[t("billet de blog de Martin Fowler"),n(s)])]),L,W,D,e("p",null,[t("Source :"),e("a",B,[t("https://architecturelogicielle.wordpress.com/2013/04/25/le-modele-de-maturite-de-richardson/"),n(s)])]),H,e("p",null,[t("Notion proposÃ©e par Roy Fielding dans "),e("a",j,[t("sa thÃ¨se"),n(s)]),t(" (2000) "),U,t(" . "),M,t(" Il dÃ©finit un ensemble de "),F,t(" imposÃ©es sur la conception dâ€™un systÃ¨me pour garantir un certain nombre de "),O,t("."),N]),z,J,e("p",null,[e("a",G,[t("Traduction franÃ§aise"),n(s)])]),Q,e("ul",null,[X,e("li",null,[t("Les ressources Â«portentÂ» les cas dâ€™utilisation "),e("ul",null,[e("li",null,[t("Patterns "),e("a",V,[t("GRASP"),n(s)])])])]),K]),Z,Y,e("ul",null,[e("li",null,[e("a",$,[t("https://talenthub.dev/search"),n(s)])]),e("li",null,[e("a",ee,[t("https://talehub.dev/search/users/TH001"),n(s)])])]),e("div",te,[se,e("ul",null,[ne,e("li",null,[t("ReflÃ©ter la hiÃ©rarchie de ressources "),e("a",re,[t("https://"),n(s)])])])]),ie,e("ul",null,[le,e("li",null,[oe,e("ul",null,[ae,e("li",null,[t("Raccrocher le CU Ã  lâ€™URL de la ressource Ã  laquelle se rapporte le CU"),pe,ce,e("ul",null,[e("li",null,[e("a",ue,[t("https://talenthub.dev/api/v3/users/toto/friends/1/users/login"),n(s)])]),e("li",null,[e("a",de,[t("https://talenthub.dev/api/v3/users/toto/friends/1/users/toto/playlist/play"),n(s)])])])])])])]),he,e("h4",ge,[e("a",me,[e("span",null,[e("a",fe,[t("JSON Web Token"),n(s)]),t(" (JWT)")])])]),be,_e,ye,ve,xe,e("ul",null,[e("li",null,[t("Objet JSON : Contient des Â« "),e("a",Te,[t("claims"),n(s)]),t("Â» "),Ae])]),Se,e("div",qe,[Re,e("p",null,[t('"This architectural style lets you use hypermedia links in the response contents so that the client can dynamically navigate to the appropriate resource by traversing the hypermedia links. This is conceptually the same as a web user navigating through web pages by clicking the appropriate hyperlinks in order to achieve a final goal." - '),e("a",ke,[t("restfulapi.net"),n(s)])])]),e("p",null,[t("Un client REST accÃ¨de Ã  une application REST Ã  l'aide d'une simple "),e("a",Ee,[t("URL"),n(s)]),t(" fixe. Toutes les futures actions que le client peut entreprendre sont dÃ©couvertes dans les reprÃ©sentations de la "),e("a",Pe,[t("ressource"),n(s)]),t(" retournÃ©e par le serveur. Les "),e("a",we,[t("types de mÃ©dias"),n(s)]),t(" utilisÃ©s pour ces reprÃ©sentations, et les relations de liens qu'ils peuvent contenir, sont normalisÃ©s. Le client passe d'un Ã©tat d'application Ã  l'autre en sÃ©lectionnant des liens Ã  l'intÃ©rieur d'une reprÃ©sentation ou en manipulant la reprÃ©sentation par d'autres moyens offerts par son type de mÃ©dia. De cette faÃ§on, l'interaction RESTful est pilotÃ©e par l'hypermÃ©dia, plutÃ´t que par des informations hors bande.")]),e("p",null,[t("Dans "),e("a",Ce,[t("l'exemple"),n(s)]),t(", cette requÃªte GET rÃ©cupÃ¨re une ressource "),Ie,t(" , demandant des dÃ©tails dans une reprÃ©sentation "),e("a",Le,[t("XML"),n(s)])]),We,e("ul",null,[De,e("li",null,[t("RequÃªtage: "),e("a",Be,[t("https://apislist.com/"),n(s)])]),He,je]),Ue,Me,Fe,e("p",null,[e("a",Oe,[t("JSR311"),n(s)]),t(" : Java API for RESTful Web Services (JAX-RS)")]),Ne,ze,Je,Ge,e("p",null,[t("ImplÃ©mentations : "),e("a",Qe,[t("Apache CXF"),n(s)]),t(", "),e("span",Xe,[e("a",Ve,[n(s)])]),t(),e("a",Ke,[t("Jersey"),n(s)]),t(", "),e("span",Ze,[e("a",Ye,[n(s)])]),t(),e("a",$e,[t("TomEE+"),n(s)]),t("...")]),et,e("ul",null,[tt,e("li",null,[st,e("ul",null,[e("li",null,[e("a",nt,[t("https://swagger.io"),n(s)])]),e("li",null,[e("a",rt,[t("https://editor.swagger.io"),n(s)])])])]),e("li",null,[it,e("ul",null,[e("li",null,[e("a",lt,[t("https://www.soapui.org"),n(s)])]),e("li",null,[e("a",ot,[t("https://www.getpostman.com"),n(s)])])])])]),at,e("ul",null,[pt,ct,e("li",null,[e("span",ut,[e("em",null,[e("a",dt,[t("WSDL 2.0"),n(s)])])]),t(),e("span",ht,[e("a",gt,[n(s)])]),t(),mt]),e("li",null,[e("span",ft,[e("em",null,[e("a",bt,[t("hRESTS"),n(s)])])]),t(),e("span",_t,[e("a",yt,[n(s)])]),t(),vt,t(),e("span",xt,[e("a",Tt,[n(s)])]),t(),e("span",At,[e("em",null,[e("a",St,[t("SA-REST"),n(s)])])]),t(),qt]),e("li",null,[e("span",Rt,[e("em",null,[e("a",kt,[t("WADL"),n(s)])])]),t(),Et]),e("li",null,[e("span",Pt,[e("em",null,[e("a",wt,[t("HYDRA"),n(s)])])]),t(),e("span",Ct,[e("a",It,[n(s)])]),t(),Lt]),e("li",null,[e("span",Wt,[e("em",null,[e("a",Dt,[t("OpenAPI "),n(s)])])]),t(),e("span",Bt,[e("em",null,[e("a",Ht,[t("Specification"),n(s)])])]),t(),e("span",jt,[e("a",Ut,[n(s)])]),t(),Mt]),Ft]),Ot,e("ul",null,[e("li",null,[e("a",Nt,[t("https://perso.liris.cnrs.fr/pierre-antoine.champin/enseignement/rest/"),n(s)])]),e("li",null,[e("a",zt,[t("https://www.crummy.com/writing/speaking/2008-QCon/act3.html"),n(s)])]),e("li",null,[e("a",Jt,[t("https://martinfowler.com/articles/richardsonMaturityModel.html"),n(s)])])]),Gt,e("ul",null,[e("li",null,[e("a",Qt,[t("https://fr.slideshare.net/AniruddhBhilvare/an-introduction-to-rest-api"),n(s)])]),e("li",null,[e("a",Xt,[t("https://fr.slideshare.net/stormpath/rest-jsonapis"),n(s)])])]),Vt,e("ul",null,[e("li",null,[e("a",Kt,[t("https://restfulapi.net/resource-naming/"),n(s)])])]),Zt,e("ul",null,[e("li",null,[e("a",Yt,[t("https://restfulapi.net/content-negotiation/"),n(s)])]),e("li",null,[e("a",$t,[t("https://akrabat.com/restful-apis-and-media-types/"),n(s)])]),e("li",null,[e("a",es,[t("http://amundsen.com/media-types/"),n(s)])]),e("li",null,[e("a",ts,[t("https://json-schema.org/latest/json-schema-core.html"),n(s)])])]),ss,e("ul",null,[e("li",null,[e("a",ns,[t("https://medium.com/@kennch/stateful-and-stateless-authentication-10aa3e3d4986"),n(s)])]),e("li",null,[e("a",rs,[t("https://aaronparecki.com/oauth-2-simplified/"),n(s)])]),e("li",null,[e("a",is,[t("https://zestedesavoir.com/articles/1616/comprendre-oauth-2-0-par-lexemple/"),n(s)])])]),ls,e("ul",null,[e("li",null,[e("a",os,[t("https://ruben.verborgh.org/blog/2012/09/27/the-object-resource-impedance-mismatch"),n(s)])])]),as,e("ul",null,[e("li",null,[e("a",ps,[t("https://rubenverborgh.github.io/WebFundamentals/web-apis/"),n(s)])]),e("li",null,[e("a",cs,[t("https://www.programmableweb.com/"),n(s)])]),e("li",null,[e("a",us,[t("http://spec.openapis.org/oas/v3.0.3"),n(s)])])]),ds,e("ul",null,[e("li",null,[e("a",hs,[t("https://jcp.org/en/jsr/detail?id=3ii"),n(s)])]),e("li",null,[e("a",gs,[t("https://en.wikipedia.org/wiki/Java "),n(s)])]),e("li",null,[e("a",ms,[t("http: //tomee.apache.org/tomcat-jaxrs.html"),n(s)])])])])}const xs=i(w,[["render",fs],["__file","session05.html.vue"]]),Ts=JSON.parse(`{"path":"/courses/session05.html","title":"L'architecture logicelle REST et les Web API's","lang":"en-US","frontmatter":{"title":"L'architecture logicelle REST et les Web API's","pageInfo":false,"order":6,"date":"2023-01-01T00:00:00.000Z","sticky":true,"star":true,"copyright":false,"footer":"Talent HUB | Copyright Â© 2024","lastUpdated":false,"contributors":false,"description":"REST et Web APIâ€™s Le cours est disponible ICI Approche projet Introduction REST en thÃ©orie REST en pratique Web APIs Conclusion Questions Introduction Avant : les Services Web Ã‰...","head":[["meta",{"property":"og:url","content":"https://docs.talenthub.dev/courses/session05.html"}],["meta",{"property":"og:title","content":"L'architecture logicelle REST et les Web API's"}],["meta",{"property":"og:description","content":"REST et Web APIâ€™s Le cours est disponible ICI Approche projet Introduction REST en thÃ©orie REST en pratique Web APIs Conclusion Questions Introduction Avant : les Services Web Ã‰..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-02T16:25:13.000Z"}],["meta",{"property":"article:author","content":"Talent HUB Team"}],["meta",{"property":"article:published_time","content":"2023-01-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-02T16:25:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"L'architecture logicelle REST et les Web API's\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-01-01T00:00:00.000Z\\",\\"dateModified\\":\\"2024-06-02T16:25:13.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Talent HUB Team\\",\\"url\\":\\"https://talenthub.dev\\"}]}"]]},"headers":[{"level":2,"title":"Approche projet","slug":"approche-projet","link":"#approche-projet","children":[]},{"level":2,"title":"Introduction","slug":"introduction","link":"#introduction","children":[{"level":3,"title":"Avant : les Services Web","slug":"avant-les-services-web","link":"#avant-les-services-web","children":[]},{"level":3,"title":"CaractÃ©ristiques dâ€™un service Web","slug":"caracteristiques-d-un-service-web","link":"#caracteristiques-d-un-service-web","children":[]},{"level":3,"title":"Les services Web : au final","slug":"les-services-web-au-final","link":"#les-services-web-au-final","children":[]}]},{"level":2,"title":"REST, en thÃ©orie","slug":"rest-en-theorie","link":"#rest-en-theorie","children":[{"level":3,"title":"ModÃ¨le de maturitÃ© de Richardson","slug":"modele-de-maturite-de-richardson","link":"#modele-de-maturite-de-richardson","children":[]},{"level":3,"title":"Style architectural","slug":"style-architectural","link":"#style-architectural","children":[]},{"level":3,"title":"Objectifs","slug":"objectifs","link":"#objectifs","children":[]},{"level":3,"title":"Contraintes","slug":"contraintes","link":"#contraintes","children":[]}]},{"level":2,"title":"REST en pratique","slug":"rest-en-pratique","link":"#rest-en-pratique","children":[{"level":3,"title":"Approche orientÃ©e-ressource","slug":"approche-orientee-ressource","link":"#approche-orientee-ressource","children":[]},{"level":3,"title":"Transactions sans Ã©tat","slug":"transactions-sans-etat","link":"#transactions-sans-etat","children":[]},{"level":3,"title":"Utilisation avancÃ©e de HTTP","slug":"utilisation-avancee-de-http","link":"#utilisation-avancee-de-http","children":[]},{"level":3,"title":"Authentification sans Ã©tat","slug":"authentification-sans-etat","link":"#authentification-sans-etat","children":[]},{"level":3,"title":"Hypermedia As The Engine of Application State - HATEOAS","slug":"hypermedia-as-the-engine-of-application-state-hateoas","link":"#hypermedia-as-the-engine-of-application-state-hateoas","children":[]}]},{"level":2,"title":"Web API's","slug":"web-api-s","link":"#web-api-s","children":[{"level":3,"title":"Le tout mis ensemble","slug":"le-tout-mis-ensemble","link":"#le-tout-mis-ensemble","children":[]},{"level":3,"title":"Dâ€™ailleurs, a-t-on encore besoin de clients ?","slug":"d-ailleurs-a-t-on-encore-besoin-de-clients","link":"#d-ailleurs-a-t-on-encore-besoin-de-clients","children":[]},{"level":3,"title":"AccÃ¨s aux Web APIâ€™s","slug":"acces-aux-web-api-s","link":"#acces-aux-web-api-s","children":[]},{"level":3,"title":"DÃ©velopper une Web API","slug":"developper-une-web-api","link":"#developper-une-web-api","children":[]},{"level":3,"title":"Outils dâ€™aide au dÃ©veloppement","slug":"outils-d-aide-au-developpement","link":"#outils-d-aide-au-developpement","children":[]}]},{"level":2,"title":"Conclusion","slug":"conclusion","link":"#conclusion","children":[]},{"level":2,"title":"RÃ©fÃ©rences","slug":"references","link":"#references","children":[]}],"git":{"createdTime":1713451211000,"updatedTime":1717345513000,"contributors":[{"name":"Lionel Leiva-Marcon","email":"llm@d-flow.fr","commits":6}]},"readingTime":{"minutes":20.04,"words":6013},"filePathRelative":"courses/session05.md","localizedDate":"January 1, 2023","autoDesc":true}`);export{xs as comp,Ts as data};
